System.register(["./index-legacy107.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./page_layout-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419","./file-legacy.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./__commonjsHelpers__-legacy.js?v=1760428868419","./common-legacy.js?v=1760428868419"],function(e,a){"use strict";var n,o,i,t,l,s,g,c,_,u,m,p,r,d,f,v,b,C,U,I,y,h,x,w,k,S,$,B,D,O,j,R,z,q,M,A,F,P,E,L;return{setters:[e=>{n=e._,o=e.a},e=>{i=e.P,t=e.a0,l=e.N,s=e.k,g=e.ad,c=e.ae,_=e.c,u=e.r,m=e.R,p=e.V,r=e.S,d=e.a2,f=e.U,v=e.a4,b=e.q,C=e.W,U=e.ak,I=e.a3,y=e.j,h=e.F,x=e.an},e=>{w=e.i,k=e.z,S=e.m,$=e.t,B=e.d,D=e.bc,O=e.bd,j=e.p,R=e.be,z=e.q},e=>{q=e.a},e=>{M=e.u},e=>{A=e.bJ,F=e.aC,P=e.df,E=e.dj,L=e.dS},null,null],execute:function(){var a=document.createElement("style");a.textContent=".logo-preview[data-v-86fbb4bb]{display:flex;align-items:center;justify-content:center;width:80px;height:80px;margin-bottom:10px;padding:8px;border:1px dashed var(--color-border);overflow:hidden;text-align:center}.logo-tips[data-v-86fbb4bb]{margin-bottom:10px;font-size:12px;color:#999}.upload-action[data-v-86fbb4bb]{display:flex;align-items:center;gap:10px}\n/*$vite$:1*/",document.head.appendChild(a);const{t:T}=w.global,H={favicon:"/static/favicon.ico",show_login_logo:!0,show_login_bg_images:!1,login_logo:"/static/icons/logo-green.svg",login_bg_images:"",login_bg_images_opacity:100,show_main_bg_images:!0,main_bg_images:"/static/icons/main_bg.png",main_bg_images_dark:"/static/icons/main_bg_dark.png",main_bg_images_opacity:100,main_content_opacity:100,main_shadow_color:"#000000",main_shadow_opacity:5,menu_logo:"/static/icons/menu_logo.png",menu_bg_opacity:100,theme_color:"#3c444d",theme_name:"default",home_state_font_size:24},J=new Map([["menu_logo",T("Config.UI.logo")],["favicon",T("Config.UI.websiteIcon")],["login_bg_images",T("Config.UI.loginBackgroundImage")],["login_logo",T("Config.UI.loginLogoImage")],["main_bg_images",T("Config.UI.mainBackgroundImage")],["theme_color",T("Config.UI.sidebarColor")],["theme_name",T("Config.UI.colorTheme")],["menu_bg_opacity",T("Config.UI.sidebarBackgroundOpacity")],["main_content_opacity",T("Config.UI.contentOpacity")],["main_bg_images_opacity",T("Config.UI.mainBackgroundImageOpacity")],["login_bg_images_opacity",T("Config.UI.loginBackgroundOpacity")],["main_shadow_color",T("Config.UI.mainShadowColor")],["main_shadow_opacity",T("Config.UI.mainShadowOpacity")]]),N=()=>{const{t:e}=i(),a=k(),{pageConfig:n}=t(a),o=async()=>{const{message:e}=await $.post("/config?action=get_panel_asset");B(e)&&(n.value=e)},s=async(a={})=>{await $.post("/config?action=set_panel_asset",l({...n.value,...a}),{requestOptions:{loading:e("Config.UI.savingInterfaceSettings"),successMessage:!0}}),o()},g=e=>J.get(e)||e;return{pageConfig:n,fetchConfig:o,saveConfig:s,resetConfig:a=>{q({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestore",{name:g(a)}),onConfirm:async()=>{await s({[a]:H[a]})}})},uploadImage:async(a,i)=>{if(i.file){const t=S.loading(e("Config.UI.uploadingImage"));try{const e=((e,a)=>{const n=(e=>{const a=e.lastIndexOf(".");return-1!==a?e.substring(a+1):"png"})(a);return`${e}_${Date.now()}.${n}`})(a,i.name),t=new FormData;t.append("f_path","/www/server/panel/BTPanel/static/temp"),t.append("f_name",e),t.append("f_start","0"),t.append("blob",i.file),t.append("f_size",i.file.size.toString()),await M(t),await $.post("/config?action=set_panel_asset",l({...n.value,[a]:`/static/temp/${e}`}),{requestOptions:{successMessage:!0}}),"favicon"===a&&(e=>{const a=document.querySelector("link[rel*='icon']");a&&(a.href=D(e))})(`/static/temp/${e}`),o()}finally{t.close()}}},resetAllConfig:()=>{q({title:e("Config.UI.restoreDefaultSettings"),content:e("Config.UI.confirmRestoreAll"),onConfirm:async()=>{await s(H)}})}}},V={class:"logo-preview"},W={key:1,class:"text-font3"},G={class:"logo-tips"},K={class:"upload-action"},Q=s({__name:"upload",props:g({onUpload:Function},{value:{default:""},valueModifiers:{}}),emits:g(["reset"],["update:value"]),setup(e,{emit:a}){const{t:n}=i(),o=a,t=c(e,"value"),l=_(()=>D(t.value)),s=u([]),g=({file:e})=>{if(e.file){if(!e.file.type.includes("image"))return S.error(n("Config.UI.imageFileOnlyError")),!1;if(e.file.size>5242880)return S.error(n("Config.UI.imageSizeError")),!1}return!0},h=async({file:a})=>{await(e.onUpload?.(a)),s.value=[]},x=()=>{o("reset")};return(e,a)=>{const n=A,o=F,i=O;return p(),m("div",null,[r("div",V,[t.value?(p(),d(n,{key:0,width:"100%",height:"100%",src:f(l),"preview-disabled":!0},null,8,["src"])):(p(),m("span",W,v(e.$t("Config.UI.uploadImagePlaceholder")),1))]),r("div",G,[b(e.$slots,"desc",{},void 0,!0)]),r("div",K,[C(i,{"file-list":f(s),"onUpdate:fileList":a[0]||(a[0]=e=>U(s)?s.value=e:null),class:"w-auto",action:"",multiple:!1,"show-file-list":!1,"custom-request":h,onBeforeUpload:g},{default:I(()=>[C(o,{size:"small"},{default:I(()=>[b(e.$slots,"upload",{},void 0,!0)]),_:3})]),_:3},8,["file-list"]),C(o,{onClick:x},{default:I(()=>[y(v(e.$t("Config.UI.resetDefault")),1)]),_:1})])])}}}),X=j(Q,[["__scopeId","data-v-86fbb4bb"]]),Y=s({__name:"index",setup(e){const{t:a}=i(),{pageConfig:o,uploadImage:t,resetConfig:l}=N();return(e,i)=>{const s=n;return p(),m(h,null,[C(s,{label:f(a)("Config.UI.logo")},{content:I(()=>[C(X,{value:f(o).menu_logo,"onUpdate:value":i[0]||(i[0]=e=>f(o).menu_logo=e),onUpload:i[1]||(i[1]=e=>f(t)("menu_logo",e)),onReset:i[2]||(i[2]=()=>f(l)("menu_logo"))},{desc:I(()=>[y(v(f(a)("Config.UI.logoDescription")),1)]),upload:I(()=>[y(v(f(a)("Config.UI.uploadLogo")),1)]),_:1},8,["value"])]),_:1},8,["label"]),C(s,{label:f(a)("Config.UI.websiteIcon")},{content:I(()=>[C(X,{value:f(o).favicon,"onUpdate:value":i[3]||(i[3]=e=>f(o).favicon=e),onUpload:i[4]||(i[4]=e=>f(t)("favicon",e)),onReset:i[5]||(i[5]=()=>f(l)("favicon"))},{desc:I(()=>[y(v(f(a)("Config.UI.iconDescription")),1)]),upload:I(()=>[y(v(f(a)("Config.UI.uploadIcon")),1)]),_:1},8,["value"])]),_:1},8,["label"])],64)}}}),Z={class:"flex items-center"},ee={class:"w-120px mr-24px"},ae={class:"text-font3"},ne={class:"flex items-center gap-10px mt-10px"},oe=s({__name:"slider",props:{value:{default:0},valueModifiers:{}},emits:g(["save","reset"],["update:value"]),setup(e,{emit:a}){const{t:n}=i(),o=c(e,"value"),t=a,l=()=>{t("save")},s=()=>{t("reset")};return(e,a)=>{const i=R,t=P,g=F;return p(),m("div",null,[r("div",Z,[r("div",ee,[C(i,{value:o.value,"onUpdate:value":a[0]||(a[0]=e=>o.value=e),step:10},null,8,["value"])]),C(t,{value:o.value,"onUpdate:value":a[1]||(a[1]=e=>o.value=e),class:"w-150px",min:0,max:100,size:"small"},null,8,["value"])]),r("div",ae,v(f(n)("Config.UI.transparencyTip")),1),r("div",ne,[C(g,{size:"small",onClick:l},{default:I(()=>[y(v(e.$t("Public.Btn.Save")),1)]),_:1}),C(g,{size:"small",onClick:s},{default:I(()=>[y(v(f(n)("Config.UI.resetDefault")),1)]),_:1})])])}}}),ie=s({__name:"index",setup(e){const{t:a}=i(),{pageConfig:o,saveConfig:t,resetConfig:l}=N();return(e,i)=>{const s=n;return p(),d(s,{label:f(a)("Config.UI.sidebarBackgroundOpacity")},{content:I(()=>[C(oe,{value:f(o).menu_bg_opacity,"onUpdate:value":i[0]||(i[0]=e=>f(o).menu_bg_opacity=e),onSave:i[1]||(i[1]=()=>f(t)()),onReset:i[2]||(i[2]=()=>f(l)("menu_bg_opacity"))},null,8,["value"])]),_:1},8,["label"])}}}),te={class:"flex-1"},le={class:"flex items-center h-32px"},se=s({__name:"index",setup(e){const{t:a}=i(),{theme:o}=t(k()),{pageConfig:l,saveConfig:s,resetConfig:g,uploadImage:c}=N();return(e,o)=>{const i=E,t=n;return p(),m(h,null,[C(t,{label:f(a)("Config.UI.mainBackgroundImage")},{content:I(()=>[r("div",te,[r("div",le,[C(i,{value:f(l).show_main_bg_images,"onUpdate:value":[o[0]||(o[0]=e=>f(l).show_main_bg_images=e),f(s)]},{checked:I(()=>[y(v(f(a)("Config.UI.show")),1)]),unchecked:I(()=>[y(v(f(a)("Config.UI.hide")),1)]),_:1},8,["value","onUpdate:value"])]),f(l).show_main_bg_images?(p(),d(X,{key:0,value:f(l).main_bg_images,"onUpdate:value":o[1]||(o[1]=e=>f(l).main_bg_images=e),class:"mt-10px",onUpload:o[2]||(o[2]=e=>f(c)("main_bg_images",e)),onReset:o[3]||(o[3]=()=>f(g)("main_bg_images"))},{desc:I(()=>[y(v(f(a)("Config.UI.mainBackgroundDescription")),1)]),upload:I(()=>[y(v(f(a)("Config.UI.uploadImage")),1)]),_:1},8,["value"])):x("",!0)])]),_:1},8,["label"]),f(l).show_main_bg_images?(p(),d(t,{key:0,label:f(a)("Config.UI.mainBackgroundImageDark")},{content:I(()=>[C(X,{value:f(l).main_bg_images_dark,"onUpdate:value":o[4]||(o[4]=e=>f(l).main_bg_images_dark=e),class:"mt-10px",onUpload:o[5]||(o[5]=e=>f(c)("main_bg_images_dark",e)),onReset:o[6]||(o[6]=()=>f(g)("main_bg_images_dark"))},{desc:I(()=>[y(v(f(a)("Config.UI.mainBackgroundDescription")),1)]),upload:I(()=>[y(v(f(a)("Config.UI.uploadImage")),1)]),_:1},8,["value"])]),_:1},8,["label"])):x("",!0),C(t,{label:f(a)("Config.UI.backgroundOpacity")},{content:I(()=>[C(oe,{value:f(l).main_bg_images_opacity,"onUpdate:value":o[7]||(o[7]=e=>f(l).main_bg_images_opacity=e),onSave:o[8]||(o[8]=()=>f(s)()),onReset:o[9]||(o[9]=()=>f(g)("main_bg_images_opacity"))},null,8,["value"])]),_:1},8,["label"]),C(t,{label:f(a)("Config.UI.contentOpacity")},{content:I(()=>[C(oe,{value:f(l).main_content_opacity,"onUpdate:value":o[10]||(o[10]=e=>f(l).main_content_opacity=e),onSave:o[11]||(o[11]=()=>f(s)()),onReset:o[12]||(o[12]=()=>f(g)("main_content_opacity"))},null,8,["value"])]),_:1},8,["label"])],64)}}}),ge={class:"flex-1"},ce={class:"flex items-center h-32px"},_e=s({__name:"index",setup(e){const{pageConfig:a,saveConfig:o,resetConfig:i,uploadImage:t}=N();return(e,l)=>{const s=E,g=n;return p(),m(h,null,[C(g,{label:e.$t("Config.UI.loginBackgroundImage")},{content:I(()=>[r("div",ge,[r("div",ce,[C(s,{value:f(a).show_login_bg_images,"onUpdate:value":[l[0]||(l[0]=e=>f(a).show_login_bg_images=e),f(o)]},{checked:I(()=>[y(v(e.$t("Config.UI.show")),1)]),unchecked:I(()=>[y(v(e.$t("Config.UI.hide")),1)]),_:1},8,["value","onUpdate:value"])]),f(a).show_login_bg_images?(p(),d(X,{key:0,value:f(a).login_bg_images,"onUpdate:value":l[1]||(l[1]=e=>f(a).login_bg_images=e),class:"mt-10px",onUpload:l[2]||(l[2]=e=>f(t)("login_bg_images",e)),onReset:l[3]||(l[3]=()=>f(i)("login_bg_images"))},{desc:I(()=>[y(v(e.$t("Config.UI.backgroundDescription")),1)]),upload:I(()=>[y(v(e.$t("Config.UI.uploadImage")),1)]),_:1},8,["value"])):x("",!0)])]),_:1},8,["label"]),f(a).show_login_bg_images?(p(),d(g,{key:0,label:e.$t("Config.UI.loginBackgroundOpacity")},{content:I(()=>[C(oe,{value:f(a).login_bg_images_opacity,"onUpdate:value":l[4]||(l[4]=e=>f(a).login_bg_images_opacity=e),onSave:l[5]||(l[5]=()=>f(o)()),onReset:l[6]||(l[6]=()=>f(i)("login_bg_images_opacity"))},null,8,["value"])]),_:1},8,["label"])):x("",!0)],64)}}}),ue={class:"py-16px"},me={class:"my-16px"};e("default",s({__name:"index",setup(e){const{t:a}=i(),{fetchConfig:n,resetAllConfig:t}=N();return n(),(e,n)=>{const i=o,l=z,s=F,g=L;return p(),d(g,{class:"p-16px"},{default:I(()=>[C(i,null,{default:I(()=>[y(v(f(a)("Config.UI.logoSettings")),1)]),_:1}),C(Y),C(i,{class:"mt-12px"},{default:I(()=>[y(v(f(a)("Config.UI.sidebarSettings")),1)]),_:1}),C(ie),C(i,{class:"mt-12px"},{default:I(()=>[y(v(f(a)("Config.UI.mainBackgroundSettings")),1)]),_:1}),C(se),C(i,{class:"mt-12px"},{default:I(()=>[y(v(f(a)("Config.UI.loginInterfaceSettings")),1)]),_:1}),C(_e),r("div",ue,[r("div",me,[C(l)]),C(s,{onClick:n[0]||(n[0]=()=>f(t)())},{default:I(()=>[y(v(f(a)("Config.UI.resetAllDefaults")),1)]),_:1})])]),_:1})}}}))}}});
