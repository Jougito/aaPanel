System.register(["./page_layout-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./common-legacy.js?v=1760428868419","./__commonjsHelpers__-legacy.js?v=1760428868419"],function(e,l){"use strict";var a,t,n,i,o,s,u,r,d,c,_,p,m,f,v,y,h,x,C,b,w,S,k,g,B,$,L,D,V,j,P,R,M,N,U,A,H;return{setters:[e=>{a=e.o,t=e._,n=e.d,i=e.m,o=e.a},e=>{s=e.i,u=e.c,r=e.f,d=e.aB,c=e.h,_=e._,p=e.a0,m=e.u},e=>{f=e._},e=>{v=e.dR,y=e.au,h=e.aC,x=e.da,C=e.d5},e=>{b=e.k,w=e.a5,S=e.R,k=e.V,g=e.S,B=e.W,$=e.a3,L=e.j,D=e.a4,V=e.U,j=e.P,P=e.af,R=e.e,M=e.r,N=e.c,U=e.n,A=e.a2,H=e._},null,null],execute:function(){const F={class:"text-14px mb-20px!"},q=b({__name:"dns-verification",props:{form:{}},setup:e=>(e,l)=>{const t=a,n=w("i18n-t"),i=y,o=h,u=v,r=x,d=f;return k(),S("div",null,[g("div",F,[B(n,{keypath:"SSL.Business.index_15",scope:"global"},{a:$(()=>[B(t,null,{default:$(()=>[L(D(e.form.domain_name),1)]),_:1})]),b:$(()=>[L(D(e.form.record_type),1)]),_:1})]),B(d,{model:e.form,"label-width":"100px"},{default:$(()=>[B(u,{label:e.$t("Mail.Domain.index_37")},{default:$(()=>[B(i,{class:"w-380px!",value:e.form.host_record,"onUpdate:value":l[0]||(l[0]=l=>e.form.host_record=l),readonly:""},null,8,["value"]),B(o,{class:"ml-10px!",type:"primary",onClick:l[1]||(l[1]=l=>V(s)(e.form.host_record))},{default:$(()=>[L(D(e.$t("Public.Btn.Copy")),1)]),_:1})]),_:1},8,["label"]),B(u,{label:e.$t("Mail.Domain.index_36")},{default:$(()=>[B(i,{class:"w-380px!",value:e.form.record_type,"onUpdate:value":l[2]||(l[2]=l=>e.form.record_type=l),readonly:""},null,8,["value"])]),_:1},8,["label"]),B(u,{label:e.$t("Mail.Domain.index_38")},{default:$(()=>[B(r,null,{default:$(()=>[B(i,{type:"textarea",class:"w-380px!",value:e.form.record_value,"onUpdate:value":l[3]||(l[3]=l=>e.form.record_value=l),readonly:""},null,8,["value"]),B(o,{type:"primary",onClick:l[4]||(l[4]=l=>V(s)(e.form.record_value))},{default:$(()=>[L(D(e.$t("Public.Btn.Copy")),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["model"])])}}),E={class:"text-14px mb-20px!"},T={class:"text-primary"},G=b({__name:"http-verification",props:{form:{},paths:{}},setup(e){const{t:l}=j(),a=e,{form:i,paths:o}=P(a),{columns:_}=u([{title:"URL",key:"url",width:"50%",ellipsis:{tooltip:!0}},{title:"Verification Result",key:"status",render:e=>-1===e.status?B("span",{class:"color-error"},[L("Failed("),e.status,L(")"),B(t,{class:"ml-5px! cursor-pointer",name:"base-problem",onClick:()=>{window.open("https://www.aapanel.com/docs/Function/BusinessCertificate.html#http-and-https-file-verification-methods","_blank")}},null)]):B("span",{class:"text-primary"},[L("Success")])},r({width:150,options:e=>[{label:l("Public.Btn.Copy"),onClick:()=>{s(e.url)}},{label:l("Config.Panel.index_83_1"),onClick:()=>{window.open(e.url,"_blank")}},{label:"Re-verify",onClick:async()=>{try{const{message:l}=await d({url:e.url,content:a.form.file_content});n(l)&&(e.status=l.status)}catch(l){e.status=C(l,"message.status",-1)}}}]})]);return(e,l)=>{const a=y,t=h,n=v,u=x,r=f,d=c;return k(),S("div",null,[g("div",E,[l[6]||(l[6]=L(" Please add a verification file to the following domain name [ ",-1)),g("span",T,D(V(i).domain_name),1),l[7]||(l[7]=L(" ], the verification information is as follows: ",-1))]),B(r,{model:V(i),"label-width":"100px"},{default:$(()=>[B(n,{label:"File Location"},{default:$(()=>[B(a,{class:"w-380px!",value:V(i).file_path,"onUpdate:value":l[0]||(l[0]=e=>V(i).file_path=e),readonly:""},null,8,["value"]),B(t,{class:"ml-10px!",type:"primary",onClick:l[1]||(l[1]=e=>V(s)(V(i).file_path))},{default:$(()=>[L(D(e.$t("Public.Btn.Copy")),1)]),_:1})]),_:1}),B(n,{label:e.$t("form.fileName")},{default:$(()=>[B(a,{class:"w-380px!",value:V(i).file_name,"onUpdate:value":l[2]||(l[2]=e=>V(i).file_name=e),readonly:""},null,8,["value"]),B(t,{class:"ml-10px!",type:"primary",onClick:l[3]||(l[3]=e=>V(s)(V(i).file_name))},{default:$(()=>[L(D(e.$t("Public.Btn.Copy")),1)]),_:1})]),_:1},8,["label"]),B(n,{label:e.$t("SSL.Domain.index_13")},{default:$(()=>[B(u,null,{default:$(()=>[B(a,{type:"textarea",class:"w-380px!",value:V(i).file_content,"onUpdate:value":l[4]||(l[4]=e=>V(i).file_content=e),readonly:""},null,8,["value"]),B(t,{type:"primary",onClick:l[5]||(l[5]=e=>V(s)(V(i).file_content))},{default:$(()=>[L(D(e.$t("Public.Btn.Copy")),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["model"]),B(d,{columns:V(_),data:V(o)},null,8,["columns","data"])])}}}),I={class:"p-40px",show:!1};e("default",b({__name:"domain-verification",props:{uc_id:{},verify:{},paths:{},request:{type:Boolean},onRefresh:{type:Function}},emits:["close"],setup(e,{emit:t}){const{t:s}=j(),u=e,{uc_id:r,verify:d,request:c,paths:f}=P(u),v=t,y=R({host_record:"",record_type:"",record_value:"",domain_name:"",file_path:"/.well-known/pki-validation/",file_name:"",file_content:""}),C=M([]),b=M(""),w=N(()=>"CNAME_CSR_HASH"==b.value),F=async()=>{const{message:e}=await p({uc_id:r.value});n(e)&&("PENDING"===e.certStatus?i.success(s("SSL.Business.index_23")):(u.onRefresh(),v("close")),y.host_record=e.data.DCVdnsHost,y.record_type=e.data.DCVdnsType,y.record_value=e.data.DCVdnsValue,y.domain_name=e.data.dcvList.map(e=>e.domainName).join(","),b.value=e.data.dcvList[0].dcvMethod,y.file_name=e.data.DCVfileName,y.file_content=e.data.DCVfileContent,C.value=e.paths)},E=()=>{v("close")};U(()=>{c.value?F():T()});const T=()=>{y.host_record=d.value.DCVdnsHost,y.record_type=d.value.DCVdnsType,y.record_value=d.value.DCVdnsValue,y.domain_name=d.value.dcvList.map(e=>e.domainName).join(","),b.value=d.value.dcvList[0].dcvMethod,y.file_name=d.value.DCVfileName,y.file_content=d.value.DCVfileContent,C.value=f?.value||[]},W=()=>{m({title:"Modify the verification method",width:500,minHeight:200,data:{uc_id:r.value,onRefresh:F},footer:!0,component:H(()=>o(()=>l.import("./change-verification-legacy.js?v=1760428868419"),void 0))})};return(e,l)=>{const t=a,n=_,i=h,o=x;return k(),S("div",I,[V(w)?(k(),A(q,{key:0,form:V(y)},null,8,["form"])):(k(),A(G,{key:1,form:V(y),paths:V(C)},null,8,["form","paths"])),B(n,{class:"my-20px"},{default:$(()=>[l[0]||(l[0]=g("li",null,"Check for the existence of CAA records, and if they exist, please remove the relevant CAA records.",-1)),g("li",null,D(e.$t("SSL.Business.index_16")),1),g("li",null,D(e.$t("SSL.Business.index_17")),1),g("li",null,D(e.$t("SSL.Business.index_18")),1),g("li",null,D(e.$t("SSL.Business.index_19")),1),g("li",null,[B(t,{href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html",target:"_blank"},{default:$(()=>[L(D(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1,__:[0]}),B(o,null,{default:$(()=>[B(i,{type:"primary",onClick:F},{default:$(()=>[L(D(e.$t("SSL.Business.index_21")),1)]),_:1}),B(i,{onClick:W},{default:$(()=>l[1]||(l[1]=[L("Modifiy verify",-1)])),_:1,__:[1]}),B(i,{onClick:E},{default:$(()=>[L(D(e.$t("SSL.Business.index_22")),1)]),_:1})]),_:1})])}}}))}}});
