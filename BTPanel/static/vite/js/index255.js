import{_ as e}from"./index.js?v=1760428868419";import{_ as t}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1760428868419";import{_ as a}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1760428868419";import{_ as s,c as i,d as l,h as n,J as o,f as d,e as r,a as p}from"./public.js?v=1760428868419";import{_ as u}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1760428868419";import{w as _,m as c,dv as m,q as h,d as x,p as y}from"./page_layout.js?v=1760428868419";import{q as g,r as w,t as v,v as f,w as j,x as k,y as S,z as b,A as P,B as W,C as R}from"./index87.js?v=1760428868419";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang.js?v=1760428868419";import{k as U,P as $,r as z,e as L,R as T,V as B,W as q,U as I,a3 as A,S as D,a4 as H,ak as J,ay as K,j as N,N as O}from"./vue.js?v=1760428868419";import{dR as V,au as E,aC as F}from"./naive.js?v=1760428868419";import"./common.js?v=1760428868419";import"./__commonjsHelpers__.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1760428868419";import"./index133.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1760428868419";import"./index131.js?v=1760428868419";import"./php.js?v=1760428868419";import"./soft.js?v=1760428868419";import"./site.js?v=1760428868419";import"./site4.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1760428868419";import"./index245.js?v=1760428868419";import"./index99.js?v=1760428868419";import"./index108.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang10.js?v=1760428868419";import"./index98.js?v=1760428868419";import"./index100.js?v=1760428868419";import"./index101.js?v=1760428868419";import"./file.js?v=1760428868419";import"./theme-monokai.js?v=1760428868419";import"./refersh.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang17.js?v=1760428868419";import"./index105.js?v=1760428868419";import"./ssl.js?v=1760428868419";import"./cert.js?v=1760428868419";import"./ssl-lets-progress.js?v=1760428868419";import"./utils3.js?v=1760428868419";import"./index218.js?v=1760428868419";import"./paypal-js.js?v=1760428868419";import"./upload.js?v=1760428868419";const G={class:"p-20px"},M={class:"w-280px"},Q=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),i=e,{getList:l}=i.data,n=z(null),o=L({name:""}),d={name:{required:!0,message:a("Security.Conf.Index_28"),trigger:["blur","input"]}};return t({onConfirm:async({hide:e})=>{var t;await(null==(t=n.value)?void 0:t.validate()),await g({...o}),null==l||l(),e()}}),(e,t)=>{const a=E,i=V,l=C,r=s;return B(),T("div",G,[q(l,{ref_key:"formRef",ref:n,model:I(o),rules:d},{default:A(()=>[q(i,{label:e.$t("Site.TableRow.index_2"),path:"name"},{default:A(()=>[D("div",M,[q(a,{type:"text",value:I(o).name,"onUpdate:value":t[0]||(t[0]=e=>I(o).name=e),placeholder:e.$t("WP.Sets.index_11")},null,8,["value","placeholder"])])]),_:1},8,["label"])]),_:1},8,["model"]),q(r,{class:"mt-4px"},{default:A(()=>[D("li",null,H(e.$t("WP.Sets.index_12")),1)]),_:1})])}}}),X={class:"p-20px"},Y=U({__name:"index",props:{data:{}},setup(e,{expose:t}){const{t:a}=$(),o=e,{id:d}=o.data,{keys:r,table:p,columns:u}=i([{type:"selection",width:40},{key:"name",title:a("Site.TableRow.index_2")}]),{loading:m,setLoading:h}=l();(async()=>{try{h(!0);const{message:e}=await w();_(e)&&(p.data=e)}finally{r.value=[],h(!1)}})();return t({onConfirm:async()=>{if(!r.value.length)return c.error(a("WP.Sets.index_18")),!1;const e=r.value.join(",");await v({set_id:d,site_ids:e})}}),(e,t)=>{const a=n,i=s;return B(),T("div",X,[q(a,{"checked-row-keys":I(r),"onUpdate:checkedRowKeys":t[0]||(t[0]=e=>J(r)?r.value=e:null),"row-key":"id",loading:I(m),data:I(p).data,"max-height":220,columns:I(u)},null,8,["checked-row-keys","loading","data","columns"]),q(i,{class:"mt-16px"},{default:A(()=>[D("li",null,H(e.$t("WP.Sets.index_17")),1),D("li",null,H(e.$t("WP.Sets.index_19")),1)]),_:1})])}}}),Z={class:"p-20px"},ee=y(U({__name:"index",props:{data:{}},setup(e){const{t:a}=$(),r=z(),p=e,{id:y}=p.data,{type:g}=p.data,{getList:w}=p.data,{keys:v,table:W,columns:R}=i([{key:"title",title:a("Site.TableRow.index_2"),width:"70%"},o({key:"state",title:a("WP.TableRow.index_9"),minWidth:100,onClick:async(e,t)=>{await f({item_ids:t.id,state:e?1:0,type:g}),Y()}}),d({width:80,options:e=>[{label:a("Public.Btn.Del"),onClick:async()=>{await j({item_ids:e.id,type:g}),Y(),null==w||w()}}]})]),{keys:C,table:U,columns:V}=i([{type:"selection",width:40,disabled:e=>e.is_in_set},{key:"name",title:a("Site.TableRow.index_2"),width:"60%"},{key:"title",title:a("WP.index_19"),render:e=>q(m,{size:"small",readonly:!0,color:"#4fb233",value:e.rating/20},null)}]),E=L({p:1,p_size:999,keyword:"",set_id:y}),G=async()=>{var e;if(!C.value.length)return c.error(a("WP.Sets.index_14")),void(null==(e=r.value)||e.focus());const t=U.data.filter(e=>C.value.includes(e.slug)).map(e=>({slug:e.slug,title:e.name,description:1===g?e.short_description:e.description}));await S({set_id:y,items:JSON.stringify(t),type:g}),Y(),null==w||w()},M=async()=>{if(E.keyword)try{const{message:e}=1===g?await b(O(E),!0):await P(O(E),!0);x(e)&&(U.total=e.total,_(e.list)?(U.data=e.list,U.data.length||c.error(a("WP.Sets.index_16"))):(U.data=[],U.total=0))}finally{C.value=[]}else c.error(a("WP.Sets.index_15"))},{loading:Q,setLoading:X}=l(),Y=async()=>{try{X(!0);const{message:e}=await k({set_id:y,type:g});_(e)&&(W.data=e)}finally{v.value=[],X(!1)}};return Y(),(e,a)=>{const i=F,l=u,o=n,d=t,p=h,_=s;return B(),T("div",Z,[q(d,null,K({toolsLeft:A(()=>[q(i,{type:"primary",onClick:G},{default:A(()=>[N(H(e.$t("Public.Btn.Add")),1)]),_:1})]),toolsRight:A(()=>[q(l,{ref_key:"seachRef",ref:r,value:I(E).keyword,"onUpdate:value":a[0]||(a[0]=e=>I(E).keyword=e),placeholder:e.$t("Public.Btn.Search"),onSearch:M},null,8,["value","placeholder"])]),_:2},[I(U).data.length?{name:"table",fn:A(()=>[q(o,{class:"custom-table",bordered:!1,"checked-row-keys":I(C),"onUpdate:checkedRowKeys":a[1]||(a[1]=e=>J(C)?C.value=e:null),"row-key":"slug","max-height":150,data:I(U).data,columns:I(V)},null,8,["checked-row-keys","data","columns"])]),key:"0"}:void 0]),1024),q(p,{class:"my-20px!"}),q(o,{loading:I(Q),data:I(W).data,columns:I(R),"max-height":150},null,8,["loading","data","columns"]),q(_,{class:"mt-16px"},{default:A(()=>[D("li",null,H(e.$t("WP.Sets.index_13")),1)]),_:1})])}}}),[["__scopeId","data-v-c427ca0e"]]),te={class:"p-20px"},ae=U({__name:"index",setup(s,{expose:o}){const{t:_}=$(),c=r(_("WP.Sets.index_2")),m=L({p:1,p_size:10,keyword:""}),h=()=>{P.show=!0},y=()=>{m.p=1,S()},g=(e,t,a)=>{b.title=t,b.data.id=e.id,b.data.type=a,b.show=!0},{keys:w,table:v,columns:f}=i([{key:"name",title:_("Site.TableRow.index_2"),width:"40%",ellipsis:{tooltip:{width:"trigger"}}},d({title:_("WP.Sets.index_3"),align:"center",options:e=>[{label:_("WP.Sets.index_4",[e.plugins.length]),onClick:()=>{g(e,_("WP.Sets.index_5"),1)}}]}),d({title:_("WP.Sets.index_6"),align:"center",options:e=>[{label:_("WP.Sets.index_7",[e.themes.length]),onClick:()=>{g(e,_("WP.Sets.index_8"),2)}}]}),d({width:100,align:"center",options:e=>[{label:_("WP.TableRow.index_13"),disabled:!e.plugins.length&&!e.themes.length,onClick:()=>{c.data.id=e.id,c.show=!0}},{label:_("Public.Btn.Del"),onClick:()=>{p({title:"".concat(_("Site.TableOP.index_6")," [").concat(e.name,"]"),content:_("WP.Sets.index_9"),onConfirm:async({hide:t})=>{await W({set_id:e.id}),S(),t()}})}}]})]),{loading:j,setLoading:k}=l(),S=async()=>{try{k(!0);const{message:e}=await R(O(m));x(e)&&(v.data=e.list,v.total=e.total)}finally{w.value=[],k(!1)}},b=r(_("WP.Sets.index_5"),{getList:S}),P=r(_("WP.Sets.index_10"),{getList:S});return S(),o({init:S}),(s,i)=>{const l=F,o=u,d=n,r=a,p=t,_=e;return B(),T("div",te,[q(p,null,{toolsLeft:A(()=>[q(l,{type:"primary",onClick:h},{default:A(()=>[N(H(s.$t("WP.Sets.index_1")),1)]),_:1})]),toolsRight:A(()=>[q(o,{value:I(m).keyword,"onUpdate:value":i[0]||(i[0]=e=>I(m).keyword=e),placeholder:s.$t("Security.History.Index_14"),onSearch:y},null,8,["value","placeholder"])]),table:A(()=>[q(d,{"max-height":250,loading:I(j),data:I(v).data,columns:I(f)},null,8,["loading","data","columns"])]),pageRight:A(()=>[q(r,{page:I(m).p,"onUpdate:page":i[1]||(i[1]=e=>I(m).p=e),"page-size":I(m).p_size,"onUpdate:pageSize":i[2]||(i[2]=e=>I(m).p_size=e),"item-count":I(v).total,onRefresh:S},null,8,["page","page-size","item-count"])]),_:1}),q(_,{show:I(P).show,"onUpdate:show":i[3]||(i[3]=e=>I(P).show=e),title:I(P).title,data:I(P).data,width:480,footer:!0,component:Q},null,8,["show","title","data"]),q(_,{show:I(b).show,"onUpdate:show":i[4]||(i[4]=e=>I(b).show=e),title:I(b).title,data:I(b).data,width:600,"min-height":350,footer:!1,component:ee},null,8,["show","title","data"]),q(_,{show:I(c).show,"onUpdate:show":i[5]||(i[5]=e=>I(c).show=e),title:I(c).title,data:I(c).data,width:480,"min-height":350,footer:!0,"confirm-text":s.$t("WP.TableRow.index_13"),component:Y},null,8,["show","title","data","confirm-text"])])}}});export{ae as default};
