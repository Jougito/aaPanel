import{_ as e,a}from"./index107.js?v=1760428868419";import{d as t,u as n,_ as l,j as i,a as s,i as o,c as d,h as r,f as u}from"./public.js?v=1760428868419";import{a as f,g as p,s as c,b as _}from"./alarm.js?v=1760428868419";import{_ as x}from"./index.vue_vue_type_script_setup_true_lang.js?v=1760428868419";import{_ as g}from"./index.vue_vue_type_script_setup_true_lang11.js?v=1760428868419";import{S as m,w as v,am as C,_ as S,aR as b,aS as h,aT as y,aU as w,d as $,aV as k,m as P,aW as U,O as j,aX as B,aY as L,aZ as R,p as z,a_ as E,a$ as T,b0 as I,b1 as H,k as D,b2 as A,b3 as F,b4 as V,N as K,b5 as M,b6 as N,a8 as W,b7 as Z,b8 as q,b9 as O,ba as X,bb as Y,x as G}from"./page_layout.js?v=1760428868419";import{k as J,P as Q,r as ee,e as ae,x as te,R as ne,V as le,W as ie,a3 as se,U as oe,S as de,a2 as re,a4 as ue,j as fe,ak as pe,an as ce,N as _e,l as xe,v as ge,ab as me,F as ve,au as Ce,c as Se}from"./vue.js?v=1760428868419";import{dR as be,dj as he,aC as ye,_ as we,dk as $e,dT as ke,dU as Pe,au as Ue,da as je,df as Be,dV as Le,dZ as Re}from"./naive.js?v=1760428868419";import{s as ze,_ as Ee,f as Te,h as Ie,c as He}from"./index106.js?v=1760428868419";import{P as De}from"./open.js?v=1760428868419";import{_ as Ae}from"./index108.js?v=1760428868419";import{_ as Fe}from"./index99.js?v=1760428868419";import{s as Ve,a as Ke,g as Me}from"./ssl-lets-progress.js?v=1760428868419";import{_ as Ne}from"./index.vue_vue_type_script_setup_true_lang9.js?v=1760428868419";import{_ as We}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1760428868419";import{_ as Ze}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1760428868419";const qe={class:"p-20px pt-28px pb-8px"},Oe={class:"w-300px"},Xe=J({__name:"set",props:{open:{type:Boolean,default:!1},taskList:{default:()=>[]}},emits:["refresh"],setup(e,{expose:a,emit:n}){const l=e,i=n,{t:s}=Q(),o=ee(null),d=ae({status:!0,method:[]}),r={method:{trigger:["change"],validator:()=>0!==d.method.length||new Error(s("Config.Safe.index_7"))}},u=te([]),{loading:c,setLoading:_}=t();return(()=>{const{open:e,taskList:a}=l;a.length>0&&(d.status=e||a[0].status,d.method=a[0].sender)})(),(async()=>{try{_(!0);const{message:e}=await p();u.value=v(e)?e:[]}finally{_(!1)}})(),a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate()),await f((()=>{const e=u.value.filter(e=>"panel_safe_push"===e.source)[0];return{template_id:e.id,task_data:{task_data:{tid:e.id,type:e.source,title:e.title,status:d.status,count:0,interval:600,project:"",help:600},sender:d.method,number_rule:{day_num:0,total:0},time_rule:{send_interval:0,time_range:[0,86399]}}}})()),i("refresh")}}),(e,a)=>{const t=he,n=be,l=g,i=x,s=m;return le(),ne("div",qe,[ie(s,{show:oe(c)},{default:se(()=>[ie(i,{ref_key:"formRef",ref:o,model:oe(d),rules:r},{default:se(()=>[ie(n,{label:e.$t("Config.Safe.index_5")},{default:se(()=>[ie(t,{value:oe(d).status,"onUpdate:value":a[0]||(a[0]=e=>oe(d).status=e)},null,8,["value"])]),_:1},8,["label"]),ie(n,{label:e.$t("Config.Safe.index_6"),path:"method"},{default:se(()=>[de("div",Oe,[ie(l,{value:oe(d).method,"onUpdate:value":a[1]||(a[1]=e=>oe(d).method=e)},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["show"])])}}}),Ye=J({__name:"index",setup(a){const{t:l}=Q(),i=ee(!1),s=ee([]),o=async e=>{e?d(!0):(await c({task_id:s.value[0].id,status:0}),i.value=!1,s.value[0].status=!1)},d=(e=!1)=>{n({title:l("Config.Safe.index_4"),width:480,footer:!0,confirmText:l("Public.Btn.Save"),data:{open:e,taskList:s.value,onRefresh:f},component:Xe})},{loading:r,setLoading:u}=t(),f=async()=>{try{u(!0);const{message:e}=await _();if(v(e)){const a=e.filter(e=>"panel_safe_push"===e.keyword);a&&a.length>0?(i.value=a[0].status,s.value=a):(i.value=!1,s.value=[])}}finally{u(!1)}};return f(),(a,t)=>{const n=he,l=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_2")},{content:se(()=>[ie(n,{loading:oe(r),value:oe(i),"onUpdate:value":o},null,8,["loading","value"]),ie(l,{class:"ml-12px h-22px px-5px",size:"small",onClick:t[0]||(t[0]=e=>d())},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_3")),1)]),_:1},8,["label"])}}}),Ge={class:"flex p-20px"},Je={class:"min-w-32px"},Qe={class:"flex-1 ml-10px text-14px leading-22px"},ea={class:"flex items-center min-h-30px mb-12px text-error"},aa=J({__name:"close",emits:["setConfirm"],setup(e,{expose:a,emit:t}){const n=t,{t:l}=Q(),i=C(),s=ee(!1),o=()=>{d>0||n("setConfirm",{disabled:!s.value})};let d=5;return(()=>{n("setConfirm",{text:l("Config.Safe.index_16",[d]),disabled:!0});const e=setInterval(()=>{d--,n("setConfirm",{text:l("Config.Safe.index_16",[d])}),d<=0&&(clearInterval(e),n("setConfirm",{text:l("Config.Safe.index_17"),disabled:!s.value}))},1e3)})(),a({onConfirm:async()=>(await b(),await h(),setTimeout(()=>{{const e="http:"===location.protocol?"https":"http";window.location.href="".concat(e,"://").concat(window.location.host).concat(ze.value.adminPath)}},1500),!1)}),(e,a)=>{const t=S,n=we;return le(),ne("div",Ge,[de("div",Je,[ie(t,{name:"base-warning",color:oe(i).warningColor,size:"32"},null,8,["color"])]),de("div",Qe,[de("div",ea,ue(e.$t("Config.Safe.index_14")),1),ie(n,{checked:oe(s),"onUpdate:checked":[a[0]||(a[0]=e=>pe(s)?s.value=e:null),o]},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_15")),1)]),_:1},8,["checked"])])])}}}),ta={class:"flex flex-wrap py-2px text-primary text-12px"},na={class:"mr-24px"},la={class:"mr-24px"},ia={class:"flex gap-20px mt-16px"},sa={class:"flex-1"},oa={class:"mb-8px"},da={class:"flex-1"},ra={class:"mb-8px"},ua={class:"mt-10px"},fa={class:"bt-link",href:"http://www.bt.cn/bbs/thread-704-1-1.html",target:"_blank"},pa=J({__name:"ssl-custom",setup(e){const a=ee(""),n=ee(""),i=ae({dns:[""],issuer:"--",notBefore:"--",notAfter:"--"}),s=async()=>{await y({privateKey:a.value,certPem:n.value},!0),r()},{loading:o,setLoading:d}=t(),r=async()=>{try{d(!0);const{message:e}=await w();$(e)&&(a.value=e.privateKey||"",n.value=e.certPem||"",i.dns=e.info.dns||[],i.issuer=e.info.issuer||"",i.notBefore=e.info.notBefore||"",i.notAfter=e.info.notAfter||"")}finally{d(!1)}};return r(),(e,t)=>{const d=$e,r=Fe,u=ye,f=l,p=m;return le(),re(p,{show:oe(o)},{default:se(()=>[ie(d,{type:"success","show-icon":!1},{default:se(()=>[de("div",ta,[de("div",na,[fe(ue(e.$t("Config.Safe.index_37")),1),de("b",null,ue(oe(i).dns.join(",")||"--"),1)]),de("div",la,[fe(ue(e.$t("Config.Safe.index_38")),1),de("b",null,ue(oe(i).issuer),1)]),de("div",null,[fe(ue(e.$t("Config.Safe.index_39")),1),de("b",null,ue(oe(i).notAfter),1)])])]),_:1}),de("div",ia,[de("div",sa,[de("div",oa,ue(e.$t("Config.Safe.index_27")),1),ie(r,{value:oe(a),"onUpdate:value":t[0]||(t[0]=e=>pe(a)?a.value=e:null),rows:14,placeholder:""},null,8,["value"])]),de("div",da,[de("div",ra,ue(e.$t("Config.Safe.index_28")),1),ie(r,{value:oe(n),"onUpdate:value":t[1]||(t[1]=e=>pe(n)?n.value=e:null),rows:14,placeholder:""},null,8,["value"])])]),de("div",ua,[ie(u,{type:"primary",onClick:s},{default:se(()=>[fe(ue(e.$t("Public.Btn.Save")),1)]),_:1})]),ie(f,{class:"mt-12px"},{default:se(()=>[de("li",null,[fe(ue(e.$t("Config.Safe.index_40"))+" ",1),de("a",fa," ["+ue(e.$t("Public.Btn.Help"))+"] ",1)]),de("li",null,ue(e.$t("Config.Safe.index_42")),1),de("li",null,ue(e.$t("Config.Safe.index_43")),1)]),_:1})]),_:1},8,["show"])}}}),ca={class:"h-400px"},_a={class:"flex items-center"},xa={class:"min-w-18px mr-8px"},ga={class:"leading-18px"},ma={class:"w-400px mr-10px"},va={class:"text-primary font-bold"},Ca={class:"text-warning font-bold"},Sa={class:"text-error"},ba=J({__name:"ssl-lets",setup(e){const{t:a}=Q(),t=ee(null),s=ae({domain:"",hash:"",auth_type:"http",support:[]}),o={domain:{required:!0,trigger:"blur",message:a("Config.Safe.Ssl.index_10")}},d=ee(!1),r=ee(!1),u=ee(!1),f=()=>{m()},p=()=>{u.value=!1,r.value=!1,s.hash="",s.support=[]},c=()=>{window.open("/ssl_domain/domain")},_=async()=>{var e;await(null==(e=t.value)?void 0:e.validate());const{message:a}=await Ve({domain:_e(s)});$(a)&&(a.task_id?g(a.task_id):P.success(a.result))},g=e=>{n({hideClose:!0,data:{task_id:e},component:Ke})},m=async()=>{if(s.domain)try{d.value=!0;const{message:e}=await i({domain:s.domain});$(e)&&(r.value=!0,u.value=!!e.hash,s.hash=e.hash,s.support=e.support)}finally{d.value=!1}};return(async()=>{const{message:e}=await Me();$(e)&&(s.domain=e.domain)})(),(e,a)=>{const n=S,i=$e,g=Pe,v=k,C=ke,b=be,h=Ue,y=ye,w=je,$=x,P=l;return le(),ne("div",ca,[ie(i,{"show-icon":!1,class:"mb-20px"},{default:se(()=>[de("div",_a,[de("div",xa,[ie(n,{name:"base-info",size:17})]),de("span",ga,ue(e.$t("Config.Safe.Ssl.index_1")),1)])]),_:1}),ie($,{ref_key:"formRef",ref:t,model:oe(s),rules:o,"label-width":"140"},{default:se(()=>[ie(b,{label:e.$t("Config.Safe.Ssl.index_2")},{default:se(()=>[ie(C,{value:oe(s).auth_type,"onUpdate:value":a[0]||(a[0]=e=>oe(s).auth_type=e)},{default:se(()=>[ie(v,null,{default:se(()=>[ie(g,{value:"http"},{default:se(()=>[fe(ue(e.$t("SSL.SiteSSL.index_17")),1)]),_:1}),ie(g,{value:"dns"},{default:se(()=>[fe(ue(e.$t("SSL.index_12")),1)]),_:1})]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),"dns"===oe(s).auth_type?(le(),re(b,{key:0,label:e.$t("Config.Safe.Ssl.index_4"),prop:"domain"},{default:se(()=>[de("div",ma,[ie(h,{value:oe(s).domain,"onUpdate:value":a[1]||(a[1]=e=>oe(s).domain=e),loading:oe(d),"input-props":{spellcheck:!1},placeholder:e.$t("Config.Safe.Ssl.index_5"),clearable:"",onBlur:f,onInput:p},null,8,["value","loading","placeholder"])]),ie(y,{onClick:m},{default:se(()=>[fe(ue(e.$t("Config.Safe.Ssl.index_12")),1)]),_:1})]),_:1},8,["label"])):ce("",!0),"http"===oe(s).auth_type?(le(),re(b,{key:1,label:e.$t("Config.Safe.Ssl.index_4")},{default:se(()=>[ie(h,{class:"w-400px!",value:oe(s).domain,"onUpdate:value":a[2]||(a[2]=e=>oe(s).domain=e),placeholder:e.$t("Config.Safe.Ssl.index_5")},null,8,["value","placeholder"])]),_:1},8,["label"])):ce("",!0),oe(r)&&"dns"===oe(s).auth_type?(le(),re(b,{key:2,label:" "},{default:se(()=>[oe(u)?(le(),re(i,{key:0,type:"success",class:"min-w-500px"},{default:se(()=>[de("span",va,ue(e.$t("Config.Safe.Ssl.index_6",[oe(s).domain])),1)]),_:1})):(le(),re(i,{key:1,type:"warning",class:"min-w-500px"},{default:se(()=>[ie(w,{class:"items-center"},{default:se(()=>[de("span",Ca,ue(e.$t("Config.Safe.Ssl.index_7",[oe(s).domain])),1),ie(y,{type:"primary",ghost:"",size:"small",onClick:c},{default:se(()=>[fe(ue(e.$t("Config.Safe.Ssl.index_8")),1)]),_:1})]),_:1})]),_:1}))]),_:1})):ce("",!0),ie(b,{label:" "},{default:se(()=>[ie(y,{type:"primary",disabled:!oe(u)&&"dns"===oe(s).auth_type,onClick:_},{default:se(()=>[fe(ue(e.$t("Config.Safe.Ssl.index_9")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),"http"===oe(s).auth_type?(le(),re(P,{key:0},{default:se(()=>[de("li",Sa,ue(e.$t("SSL.SiteSSL.index_15")),1),de("li",null,ue(e.$t("Site.Cert.index_21")),1),de("li",null,ue(e.$t("Site.Cert.index_23")),1),de("li",null,ue(e.$t("Site.Cert.index_24")),1)]),_:1})):ce("",!0)])}}}),ha={class:"p-16px"},ya=J({__name:"ssl",setup(e){const a=ee("custom"),t=[{key:"custom",label:"Custom SSL",component:pa},{key:"lets",label:"Lets Encrypt",component:ba}];return(e,n)=>{const l=Ae;return le(),ne("div",ha,[ie(l,{value:oe(a),"onUpdate:value":n[0]||(n[0]=e=>pe(a)?a.value=e:null),options:t},null,8,["value"])])}}}),wa={class:"bt-link",href:"https://forum.aapanel.com/d/15210-aapanel-enable-panel-ssl-use-self-signed-certificate-browser-add-secure",target:"_blank"},$a=J({__name:"index",setup(a){const{t:t}=Q(),l=e=>{e?i():s()},i=()=>{n({title:t("Config.Safe.index_11"),width:600,footer:!0,component:De})},s=()=>{n({title:t("Config.Safe.index_12"),width:400,footer:!0,confirmType:"error",component:aa})},o=()=>{n({title:t("Config.Safe.index_13"),width:740,component:ya})};return(a,t)=>{const n=he,i=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_8")},{content:se(()=>[ie(n,{value:oe(ze).panelSSL,"onUpdate:value":l},null,8,["value"]),ie(i,{class:"ml-12px h-22px px-5px",size:"small",onClick:o},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_9")),1),de("a",wa,ue(a.$t("Public.Btn.Help")),1)]),_:1},8,["label"])}}}),ka={class:"p-20px"},Pa={class:"w-280px"},Ua={class:"w-280px"},ja={class:"text-error"},Ba=J({__name:"config",setup(e){const{t:a}=Q(),t=ee(null),n=ae({open:"True",basic_user:"",basic_pwd:""}),i={basic_user:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_user.trim()||new Error(a("Config.Safe.index_56"))},basic_pwd:{trigger:["blur","input"],validator:()=>"True"!==n.open||""!==n.basic_pwd.trim()||new Error(a("Config.Safe.index_58"))}},s=async()=>{var e;await(null==(e=t.value)?void 0:e.validate()),await U(_e(n)),j()};return(e,a)=>{const o=he,d=be,r=Ue,u=ye,f=x,p=l;return le(),ne("div",ka,[ie(f,{ref_key:"formRef",ref:t,model:oe(n),rules:i},{default:se(()=>[ie(d,{label:e.$t("Config.Safe.index_54")},{default:se(()=>[ie(o,{value:oe(n).open,"onUpdate:value":a[0]||(a[0]=e=>oe(n).open=e),"checked-value":"True","unchecked-value":"False"},null,8,["value"])]),_:1},8,["label"]),ie(d,{label:e.$t("Config.Safe.index_55"),path:"basic_user"},{default:se(()=>[de("div",Pa,[ie(r,{value:oe(n).basic_user,"onUpdate:value":a[1]||(a[1]=e=>oe(n).basic_user=e),placeholder:e.$t("Config.Safe.index_56")},null,8,["value","placeholder"])])]),_:1},8,["label"]),ie(d,{label:e.$t("Config.Safe.index_57"),path:"basic_pwd"},{default:se(()=>[de("div",Ua,[ie(r,{value:oe(n).basic_pwd,"onUpdate:value":a[2]||(a[2]=e=>oe(n).basic_pwd=e),placeholder:e.$t("Config.Safe.index_58")},null,8,["value","placeholder"])])]),_:1},8,["label"]),ie(d,{label:" ","show-feedback":!1},{default:se(()=>[ie(u,{type:"primary",onClick:s},{default:se(()=>[fe(ue(e.$t("Public.Btn.Save")),1)]),_:1})]),_:1})]),_:1},8,["model"]),ie(p,{class:"mt-20px pl-12px"},{default:se(()=>[de("li",ja,ue(e.$t("Config.Safe.index_59")),1),de("li",null,ue(e.$t("Config.Safe.index_48")),1),de("li",null,ue(e.$t("Config.Safe.index_49")),1),de("li",null,ue(e.$t("Config.Safe.index_50")),1),de("li",null,ue(e.$t("Config.Safe.index_51")),1)]),_:1})])}}}),La={class:"p-20px"},Ra={class:"text-error"},za={class:"flex items-center justify-between"},Ea={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},Ta=J({__name:"confirm",setup(e,{expose:a}){const{t:t}=Q(),l=ee();return a({onConfirm:async()=>{await l.value.validate(),n({title:t("Config.Safe.index_53"),width:500,component:Ba})}}),(e,a)=>{const t=Ne,n=Ee,i=Te;return le(),ne("div",La,[ie(t,{class:"mb-20px"},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_47")),1)]),_:1}),ie(n,{class:"mb-20px"},{default:se(()=>[de("li",Ra,ue(e.$t("Config.Safe.index_19")),1),de("li",null,ue(e.$t("Config.Safe.index_48")),1),de("li",null,ue(e.$t("Config.Safe.index_49")),1),de("li",null,ue(e.$t("Config.Safe.index_50")),1),de("li",null,ue(e.$t("Config.Safe.index_51")),1)]),_:1}),de("div",za,[ie(i,{ref_key:"riskRef",ref:l},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_29")),1)]),_:1},512),de("a",Ea,ue(e.$t("Config.Safe.index_52")),1)])])}}}),Ia={class:"bt-link",href:"https://www.bt.cn/bbs/thread-34374-1-1.html",target:"_blank"},Ha=J({__name:"index",setup(a){const{t:t}=Q(),l=async e=>{e?n({title:t("Config.Safe.index_46"),width:650,footer:!0,component:Ta}):(await U({open:"False",basic_user:"",basic_pwd:""}),j())};return(a,t)=>{const n=he,i=e;return le(),re(i,{label:a.$t("Config.Safe.index_44")},{content:se(()=>[ie(n,{value:oe(ze).basicAuth,"onUpdate:value":l},null,8,["value"])]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_45")),1),de("a",Ia,ue(a.$t("Public.Btn.Help")),1)]),_:1},8,["label"])}}}),Da={class:"p-20px"},Aa={class:"mb-20px text-20px text-center text-[var(--setting-security-google-login-bind-title)]"},Fa={class:"px-36px"},Va={class:"mb-10px text-16px text-[var(--setting-security-google-login-bind-text)]"},Ka={class:"mb-20px px-24px py-16px bg-[var(--setting-security-google-login-key-bg)] rounded-4px leading-24px text-14px text-[var(--setting-security-google-login-key-text)] font-500"},Ma={class:"text-[var(--setting-security-google-login-bind-text)]"},Na={class:"text-[var(--setting-security-google-login-bind-text)]"},Wa={class:"mb-20px text-16px text-[var(--setting-security-google-login-bind-text)]"},Za={class:"bt-link",href:"",target:"_blank"},qa={class:"text-error"},Oa=z(J({__name:"config",setup(e){const a=ae({key:"--",username:"--"}),n=ee(""),{loading:i,setLoading:s}=t();return(async()=>{const{message:e}=await L();$(e)&&(a.key=e.key,a.username=e.username)})(),(async()=>{try{s(!0);const{message:e}=await R({act:1});$(e)&&(n.value=e.result)}finally{s(!1)}})(),(e,t)=>{const s=B,o=m,d=l;return le(),ne("div",Da,[de("div",Aa,ue(e.$t("Config.Safe.index_70")),1),de("div",Fa,[de("div",Va,ue(e.$t("Config.Safe.index_71")),1),de("div",Ka,[de("div",null,[fe(ue(e.$t("Config.Safe.index_72"))+" ",1),de("span",Ma,ue(oe(a).username),1)]),de("div",null,[fe(ue(e.$t("Config.Safe.index_73"))+" ",1),de("span",Na,ue(oe(a).key),1)]),de("div",null,[fe(ue(e.$t("Config.Safe.index_74"))+" ",1),t[0]||(t[0]=de("span",{class:"text-[var(--setting-security-google-login-bind-text)]"},"Time based",-1))])]),de("div",Wa,ue(e.$t("Config.Safe.index_75")),1),ie(o,{class:"flex justify-center h-150px",show:oe(i)},{default:se(()=>[xe(ie(s,{value:oe(n),size:150,padding:0},null,8,["value"]),[[ge,oe(n)]])]),_:1},8,["show"]),ie(d,null,{default:se(()=>[de("li",null,[fe(ue(e.$t("Config.Safe.index_76"))+" ",1),de("a",Za,ue(e.$t("Config.Safe.index_77")),1)]),de("li",qa,ue(e.$t("Config.Safe.index_78")),1)]),_:1})])])}}}),[["__scopeId","data-v-86cab381"]]),Xa={class:"p-20px"},Ya={class:"text-error"},Ga={class:"text-error"},Ja={class:"flex items-center justify-between"},Qa={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},et=J({__name:"confirm",setup(e,{expose:a}){const{t:t}=Q(),l=ee();return a({onConfirm:async()=>{await l.value.validate();const{message:e}=await E({act:1});ze.value.dynamicPwd=!0,n({title:t("Config.Safe.index_62"),width:600,component:Oa}),$(e)&&P.success(e.result)}}),(e,a)=>{const t=Ne,n=Ee,i=Te;return le(),ne("div",Xa,[ie(t,{class:"mb-20px"},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_47")),1)]),_:1}),ie(n,{class:"mb-20px"},{default:se(()=>[de("li",Ya,ue(e.$t("Config.Safe.index_19")),1),de("li",Ga,ue(e.$t("Config.Safe.index_69")),1),de("li",null,ue(e.$t("Config.Safe.index_66")),1),de("li",null,ue(e.$t("Config.Safe.index_67")),1)]),_:1}),de("div",Ja,[ie(i,{ref_key:"riskRef",ref:l},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_68")),1)]),_:1},512),de("a",Qa,ue(e.$t("Config.Safe.index_168")),1)])])}}}),at={class:"bt-link",href:"https://www.aapanel.com/forum/d/357-how-to-use-google-authenticator-in-the-aapanel",target:"_blank"},tt=J({__name:"index",setup(a){const{t:t}=Q(),l=async e=>{e?i():(await E({act:0},!0),ze.value.dynamicPwd=!1)},i=()=>{ze.value.dynamicPwd?n({title:t("Config.Safe.index_62"),width:600,component:Oa}):n({title:t("Config.Safe.index_63"),width:670,footer:!0,component:et})};return(a,t)=>{const n=he,s=ye,o=e;return le(),re(o,{label:a.$t("Config.Safe.index_60")},{content:se(()=>[ie(n,{value:oe(ze).dynamicPwd,"onUpdate:value":l},null,8,["value"]),ie(s,{class:"ml-12px h-22px px-5px",size:"small",onClick:i},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_61")),1),de("a",at,ue(a.$t("Public.Btn.Help")),1)]),_:1},8,["label"])}}}),nt={class:"text-error"},lt=J({__name:"index",setup(a){const{t:t}=Q(),n=async e=>{s({title:t("Config.Safe.index_82",[t(e?"Config.Safe.index_83":"Config.Safe.index_84")]),content:()=>e?ie(me,{tag:"div",scope:"global",keypath:"Config.Safe.index_85"},{tips_:()=>ie("span",{class:"text-error"},[t("Config.Safe.index_86")])}):ie(ve,null,[t("Config.Safe.index_87")]),onConfirm:async()=>{await T(),ze.value.pwdComplexity=e}})};return(a,t)=>{const l=he,i=e;return le(),re(i,{label:a.$t("Config.Safe.index_79")},{content:se(()=>[ie(l,{value:oe(ze).pwdComplexity,"onUpdate:value":n},null,8,["value"])]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_80")),1),de("span",nt,ue(a.$t("Config.Safe.index_81")),1)]),_:1},8,["label"])}}}),it={class:"w-260px"},st={class:"text-error"},ot=J({__name:"index",setup(a){const t=async()=>{await I(Ie()),j()};return(a,n)=>{const l=Ue,i=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_88")},{content:se(()=>[de("div",it,[ie(l,{value:oe(ze).domain,"onUpdate:value":n[0]||(n[0]=e=>oe(ze).domain=e),placeholder:""},null,8,["value"])]),ie(i,{class:"ml-12px",type:"primary",onClick:t},{default:se(()=>[fe(ue(a.$t("Public.Btn.Save")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_89")),1),de("span",st,ue(a.$t("Config.Safe.index_90")),1)]),_:1},8,["label"])}}}),dt={class:"w-260px"},rt={class:"text-error"},ut=J({__name:"index",setup(a){const{t:t}=Q(),n=async()=>{let e=/^((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}$/,a=ze.value.limitIp.split(",").join("-").split("-"),n=!0;if(a.length)for(let t=0;t<a.length;t++)0==e.test(a[t])&&(n=!1);if(!n&&ze.value.limitIp.length>0)return P.error(t("Config.Safe.index_95"));await H(Ie()),j()};return(a,t)=>{const l=Ue,i=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_91")},{content:se(()=>[de("div",dt,[ie(l,{value:oe(ze).limitIp,"onUpdate:value":t[0]||(t[0]=e=>oe(ze).limitIp=e),placeholder:a.$t("Config.Safe.index_92")},null,8,["value","placeholder"])]),ie(i,{class:"ml-12px",type:"primary",onClick:n},{default:se(()=>[fe(ue(a.$t("Public.Btn.Save")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_93")),1),de("span",rt,ue(a.$t("Config.Safe.index_94")),1)]),_:1},8,["label"])}}}),ft={class:"p-20px"},pt={class:"text-error"},ct={class:"text-error"},_t={class:"w-210px"},xt=J({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=ee(),l=ee(null),i=ae({port:D(ze.value.port)}),s={port:{trigger:["blur","input"],validator:()=>!!F(i.port)||new Error(t("Config.Safe.index_104"))}};return a({onConfirm:async()=>{var e;await n.value.validate(),await(null==(e=l.value)?void 0:e.validate());const a=Ie();a.port="".concat(i.port),await A(a),j("".concat(location.protocol,"//").concat(location.hostname,":").concat(i.port).concat(location.pathname))}}),(e,a)=>{const t=Ee,o=Be,d=be,r=x,u=Te;return le(),ne("div",ft,[ie(t,{class:"mb-20px"},{default:se(()=>[de("li",pt,ue(e.$t("Config.Safe.index_100")),1),de("li",ct,ue(e.$t("Config.Safe.index_101")),1)]),_:1}),ie(r,{ref_key:"formRef",ref:l,model:oe(i),rules:s},{default:se(()=>[ie(d,{label:e.$t("Config.Safe.index_96"),path:"port","label-width":"auto","label-style":{paddingLeft:"24px"}},{default:se(()=>[de("div",_t,[ie(o,{value:oe(i).port,"onUpdate:value":a[0]||(a[0]=e=>oe(i).port=e),min:1,max:65535,"show-button":!1,placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),ie(u,{ref_key:"riskRef",ref:n},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_102"))+" ",1),de("a",{class:"bt-link",href:"https://www.aapanel.com/forum/d/599-how-to-release-the-aapanel-port",target:"_blank",onClick:Ce(()=>!1,["stop"])},ue(e.$t("Config.Safe.index_103")),1)]),_:1},512)])}}}),gt={class:"w-260px"},mt={class:"text-error"},vt=J({__name:"index",setup(a){const{t:t}=Q(),l=async()=>{n({title:t("Config.Safe.index_99"),width:400,footer:!0,component:xt})};return(a,t)=>{const n=Ue,i=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_96")},{content:se(()=>[de("div",gt,[ie(n,{value:oe(ze).port,disabled:!0,placeholder:""},null,8,["value"])]),ie(i,{class:"ml-12px",type:"primary",onClick:l},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_97")),1),de("span",mt,ue(a.$t("Config.Safe.index_98")),1)]),_:1},8,["label"])}}}),Ct={class:"px-20px pt-28px pb-8px"},St={class:"w-240px"},bt=J({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=ee(null),l=ae({adminPath:ze.value.adminPath}),i={adminPath:{trigger:["blur","input"],validator:()=>""!==l.adminPath.trim()||new Error(t("Config.Safe.index_108"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await V({admin_path:K(l.adminPath)}),ze.value.adminPath=l.adminPath}}),(e,a)=>{const t=Ue,s=be,o=x;return le(),ne("div",Ct,[ie(o,{ref_key:"formRef",ref:n,model:oe(l),rules:i},{default:se(()=>[ie(s,{label:e.$t("Config.Safe.index_105"),path:"adminPath"},{default:se(()=>[de("div",St,[ie(t,{value:oe(l).adminPath,"onUpdate:value":a[0]||(a[0]=e=>oe(l).adminPath=e),placeholder:""},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"])])}}}),ht={class:"w-260px"},yt=J({__name:"index",setup(a){const{t:t}=Q(),l=async()=>{n({title:t("Config.Safe.index_107"),width:440,footer:!0,component:bt})};return(a,t)=>{const n=Ue,i=ye,s=e;return le(),re(s,{label:a.$t("Config.Safe.index_105")},{content:se(()=>[de("div",ht,[ie(n,{value:oe(ze).adminPath,disabled:!0,placeholder:""},null,8,["value"])]),ie(i,{class:"ml-12px",type:"primary",onClick:l},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_106")),1)]),_:1},8,["label"])}}}),wt={class:"px-20px py-24px"},$t={class:"w-200px"},kt={class:"text-error"},Pt=J({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=ee(null),i=ae({status_code:ze.value.statusCode}),s={},o=[{value:403,label:t("Config.Safe.index_111")},{value:404,label:t("Config.Safe.index_112")},{value:416,label:t("Config.Safe.index_113")},{value:408,label:t("Config.Safe.index_114")},{value:400,label:t("Config.Safe.index_115")},{value:401,label:t("Config.Safe.index_116")}];return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await M({status_code:i.status_code}),ze.value.statusCode=i.status_code}}),(e,a)=>{const t=Le,d=be,r=x,u=l;return le(),ne("div",wt,[ie(r,{ref_key:"formRef",ref:n,model:oe(i),rules:s},{default:se(()=>[ie(d,{label:e.$t("Config.Safe.index_118"),path:"adminPath"},{default:se(()=>[de("div",$t,[ie(t,{value:oe(i).status_code,"onUpdate:value":a[0]||(a[0]=e=>oe(i).status_code=e),options:o},null,8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),ie(u,null,{default:se(()=>[de("li",kt,ue(e.$t("Config.Safe.index_119")),1)]),_:1})])}}}),Ut={class:"w-260px"},jt=J({__name:"index",setup(a){const{t:t}=Q(),l=new Map([[403,t("Config.Safe.index_111")],[404,t("Config.Safe.index_112")],[416,t("Config.Safe.index_113")],[408,t("Config.Safe.index_114")],[400,t("Config.Safe.index_115")],[401,t("Config.Safe.index_116")]]),i=Se(()=>l.get(ze.value.statusCode)||"--"),s=async()=>{n({title:t("Config.Safe.index_117"),width:420,footer:!0,component:Pt})};return(a,t)=>{const n=Ue,l=ye,o=e;return le(),re(o,{label:a.$t("Config.Safe.index_109")},{content:se(()=>[de("div",Ut,[ie(n,{value:oe(i),disabled:!0,placeholder:""},null,8,["value"])]),ie(l,{class:"ml-12px",type:"primary",onClick:s},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_110")),1)]),_:1},8,["label"])}}}),Bt={class:"px-20px py-24px"},Lt={class:"w-120px"},Rt={class:"text-error"},zt=J({__name:"set",setup(e,{expose:a}){const{t:t}=Q(),n=ee(null),i=ae({day:ze.value.pwdSetDay}),s={day:{trigger:["blur","input"],validator:()=>i.day<0?new Error(t("Config.Safe.index_128")):!(!i.day&&0!==i.day)||new Error(t("Config.Safe.index_129"))}};return a({onConfirm:async()=>{var e;await(null==(e=n.value)?void 0:e.validate()),await N({expire:i.day}),He()}}),(e,a)=>{const t=Be,o=be,d=x,r=l;return le(),ne("div",Bt,[ie(d,{ref_key:"formRef",ref:n,model:oe(i),rules:s},{default:se(()=>[ie(o,{label:e.$t("Config.Safe.index_120"),path:"day"},{default:se(()=>[de("div",Lt,[ie(t,{value:oe(i).day,"onUpdate:value":a[0]||(a[0]=e=>oe(i).day=e),min:0,"show-button":!1,placeholder:""},{suffix:se(()=>[fe(ue(e.$t("Public.Unit.Day",oe(i).day)),1)]),_:1},8,["value"])])]),_:1},8,["label"])]),_:1},8,["model"]),ie(r,{class:"mt-4px"},{default:se(()=>[de("li",Rt,ue(e.$t("Config.Safe.index_126")),1),de("li",null,ue(e.$t("Config.Safe.index_127")),1)]),_:1})])}}}),Et={class:"w-260px"},Tt=J({__name:"index",setup(a){const{t:t}=Q(),l=Se(()=>{const{pwdSetDay:e,pwdExpireDay:a,pwdExpireTime:n}=ze.value;return 0===e?t("Config.Safe.index_122"):t("Config.Safe.index_123",[W(n),a])}),i=async()=>{n({title:t("Config.Safe.index_124"),width:360,footer:!0,component:zt})};return(a,t)=>{const n=Ue,s=ye,o=e;return le(),re(o,{label:a.$t("Config.Safe.index_120")},{content:se(()=>[de("div",Et,[ie(n,{value:oe(l),disabled:!0,placeholder:""},null,8,["value"])]),ie(s,{class:"ml-12px",type:"primary",onClick:i},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_121")),1)]),_:1},8,["label"])}}}),It={class:"p-20px"},Ht={class:"mb-12px"},Dt={class:"mb-12px"},At={class:"mb-20px"},Ft=J({__name:"set-add-result",props:{address:{default:""}},setup(e){const a=e,t=()=>{o(a.address)};return(e,a)=>{const n=Fe,i=ye,s=l;return le(),ne("div",It,[de("div",Ht,ue(e.$t("Config.Safe.index_147")),1),de("div",Dt,[ie(n,{value:e.address,readonly:"",rows:2},null,8,["value"])]),de("div",At,[ie(i,{type:"primary",onClick:t},{default:se(()=>[fe(ue(e.$t("Public.Btn.Copy")),1)]),_:1})]),ie(s,null,{default:se(()=>[de("li",null,ue(e.$t("Config.Safe.index_148")),1),de("li",null,ue(e.$t("Config.Safe.index_149")),1),de("li",null,ue(e.$t("Config.Safe.index_150")),1)]),_:1})])}}}),Vt={class:"p-20px pt-28px pb-8px"},Kt={class:"flex mb-24px"},Mt={class:"min-w-32px"},Nt={class:"flex-1 ml-16px"},Wt={class:"leading-24px text-error text-14px"},Zt={class:"w-160px"},qt=J({__name:"set-add",emits:["refresh"],setup(e,{expose:a,emit:t}){const l=t,{t:i}=Q(),s=C(),o=ee(null),d=ae({type:3,day:1}),r={day:{trigger:["blur","input"],validator:()=>0!==d.type||!(d.day<=0||d.day%1!=0)||new Error(i("Config.Safe.index_145"))}},u=e=>e%1==0,f=(e="")=>{const a="".concat(window.location.protocol,"//").concat(window.location.host),t="".concat(a,"/login?tmp_token=").concat(e);n({title:i("Config.Safe.index_146"),width:580,data:{address:t},component:Ft})};return a({onConfirm:async()=>{var e;await(null==(e=o.value)?void 0:e.validate());const{message:a}=await Z({expire_time:60*(0===d.type?24*d.day:d.type)*60+Math.floor(Date.now()/1e3)});$(a)&&(f(a.token),P.success(a.msg),l("refresh"))}}),(e,a)=>{const t=S,n=Re,l=ke,i=be,f=Be,p=x;return le(),ne("div",Vt,[de("div",Kt,[de("div",Mt,[ie(t,{name:"base-warning",size:"32",color:oe(s).warningColor},null,8,["color"])]),de("div",Nt,[de("div",Wt,[de("div",null,ue(e.$t("Config.Safe.index_140")),1),de("div",null,ue(e.$t("Config.Safe.index_141")),1)])])]),ie(p,{ref_key:"formRef",ref:o,model:oe(d),rules:r,"label-width":"140"},{default:se(()=>[ie(i,{label:e.$t("Config.Safe.index_142")},{default:se(()=>[ie(l,{value:oe(d).type,"onUpdate:value":a[0]||(a[0]=e=>oe(d).type=e)},{default:se(()=>[ie(n,{value:3},{default:se(()=>[fe("3 "+ue(e.$t("Public.Unit.Hour",3)),1)]),_:1}),ie(n,{value:6},{default:se(()=>[fe("6 "+ue(e.$t("Public.Unit.Hour",6)),1)]),_:1}),ie(n,{value:9},{default:se(()=>[fe("9 "+ue(e.$t("Public.Unit.Hour",9)),1)]),_:1}),ie(n,{value:12},{default:se(()=>[fe("12 "+ue(e.$t("Public.Unit.Hour",12)),1)]),_:1}),ie(n,{value:0},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_143")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label"]),xe(ie(i,{label:e.$t("Config.Safe.index_144"),path:"day"},{default:se(()=>[de("div",Zt,[ie(f,{value:oe(d).day,"onUpdate:value":a[1]||(a[1]=e=>oe(d).day=e),min:1,"show-button":!1,validator:u},{suffix:se(()=>[fe(ue(e.$t("Public.Unit.Day",oe(d).day)),1)]),_:1},8,["value"])])]),_:1},8,["label"]),[[ge,0===oe(d).type]])]),_:1},8,["model"])])}}}),Ot={class:"p-20px h-500px"},Xt=J({__name:"set-log",props:{id:{default:0}},setup(e){const a=e,{t:t}=Q(),{table:n,columns:l,setLoading:i}=d([{key:"type",title:t("Config.Safe.index_151"),width:120,ellipsis:{tooltip:!0}},{key:"addtime",title:t("Config.Safe.index_152"),width:140},{key:"log",title:t("Config.Safe.index_153"),ellipsis:{tooltip:!0}}]),s=async()=>{try{i(!0);const{message:e}=await q({id:a.id});n.data=v(e)?e:[]}finally{i(!1)}};return s(),(e,a)=>{const t=ye,i=r,o=We;return le(),ne("div",Ot,[ie(o,null,{toolsLeft:se(()=>[ie(t,{onClick:s},{default:se(()=>[fe(ue(e.$t("Public.Btn.Refresh")),1)]),_:1})]),table:se(()=>[ie(i,{"max-height":360,loading:oe(n).loading,data:oe(n).data,columns:oe(l)},null,8,["loading","data","columns"])]),_:1})])}}}),Yt={class:"h-500px p-20px"},Gt=J({__name:"set",setup(e){const{t:a}=Q(),t=()=>{n({title:a("Config.Safe.index_146"),width:580,footer:!0,component:qt,data:{onRefresh:()=>{x()}}})},{table:l,columns:i,setLoading:o}=d([{key:"login_addr",title:a("Config.Safe.index_154"),ellipsis:{tooltip:!0},render:e=>e.login_addr||a("Config.Safe.index_155")},{key:"state",title:a("Config.Safe.index_156"),width:100,render:e=>-1===e.state?ie("span",{class:"text-error"},[a("Config.Safe.index_166")]):1===e.state?a("Config.Safe.index_157"):ie("span",{class:"text-primary"},[a("Config.Safe.index_155")])},{key:"login_time",title:a("Config.Safe.index_158"),width:140,render:e=>0===e.login_time?a("Config.Safe.index_155"):W(e.login_time)},{key:"expire",title:a("Config.Safe.index_159"),width:140,render:e=>W(e.expire)},u({width:160,options:e=>[{label:a("Config.Safe.index_160"),type:"error",show:e.online_state,onClick:()=>{p(e)}},{label:a("Config.Safe.index_161"),show:1===e.state||-1===e.state,onClick:()=>{f(e)}},{label:a("Public.Btn.Del"),onClick:()=>{c(e)}}]})]),f=e=>{n({title:a("Config.Safe.index_161"),width:700,data:{id:e.id},component:Xt})},p=e=>{s({title:a("Config.Safe.index_162",[e.login_addr]),content:a("Config.Safe.index_163",[e.login_addr]),onConfirm:async()=>{await O({id:e.id}),x()}})},c=e=>{s({title:a("Config.Safe.index_164"),content:a("Config.Safe.index_165"),onConfirm:async()=>{await X({id:e.id}),x()}})},_=ae({p:1,rows:10}),x=async()=>{try{o(!0);const{message:e}=await Y(_e(_));$(e)&&(l.data=v(e.data)?e.data:[],l.total=G(e.page))}finally{o(!1)}};return x(),(e,a)=>{const n=ye,s=r,o=Ze,d=We;return le(),ne("div",Yt,[ie(d,null,{toolsLeft:se(()=>[ie(n,{type:"primary",onClick:t},{default:se(()=>[fe(ue(e.$t("Config.Safe.index_146")),1)]),_:1})]),table:se(()=>[ie(s,{"max-height":340,loading:oe(l).loading,data:oe(l).data,columns:oe(i)},null,8,["loading","data","columns"])]),pageRight:se(()=>[ie(o,{page:oe(_).p,"onUpdate:page":a[0]||(a[0]=e=>oe(_).p=e),"page-size":oe(_).rows,"onUpdate:pageSize":a[1]||(a[1]=e=>oe(_).rows=e),"item-count":oe(l).total,onRefresh:x},null,8,["page","page-size","item-count"])]),_:1})])}}}),Jt=J({__name:"index",setup(a){const{t:t}=Q(),l=()=>{n({title:t("Config.Safe.index_139"),width:740,component:Gt})};return(a,t)=>{const n=ye,i=e;return le(),re(i,{label:a.$t("Config.Safe.index_137")},{content:se(()=>[ie(n,{type:"primary",onClick:l},{default:se(()=>[fe(ue(a.$t("Public.Btn.Set")),1)]),_:1})]),desc:se(()=>[de("span",null,ue(a.$t("Config.Safe.index_138")),1)]),_:1},8,["label"])}}}),Qt=z(J({__name:"config",setup:e=>(e,t)=>(le(),ne("div",null,[ie(a,null,{default:se(()=>[fe(ue(e.$t("Config.Safe.index_1")),1)]),_:1}),ie(Ye),ie($a),ie(Ha),ie(tt),ie(lt),ie(ot),ie(ut),ie(vt),ie(yt),ie(jt),ie(Tt),ie(Jt)]))}),[["__scopeId","data-v-919bcd3c"]]);export{Qt as S};
