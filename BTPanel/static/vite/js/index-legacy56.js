System.register(["./page_layout-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./common-legacy.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1760428868419","./__commonjsHelpers__-legacy.js?v=1760428868419"],function(t,e){"use strict";var a,n,i,l,s,o,r,d,u,c,m,p,x,y,v,A,f,h,g,b,_,S,M,w,C,k,I,B,T,N,O,q,W,J,Y,R,U,z,E,Q,$,F,L,G,P,j,V,Z,D,H,K,X,tt,et,at,nt,it,lt,st,ot,rt,dt;return{setters:[t=>{a=t.t,n=t.i,i=t.p,l=t.F,s=t._,o=t.a5,r=t.w,d=t.cC,u=t.cx,c=t.a8,m=t.n,p=t.k,x=t.S,y=t.bf,v=t.q,A=t.ct,f=t.m,h=t.O,g=t.d},t=>{b=t.d,_=t.q},t=>{S=t.R,M=t.V,w=t.W,C=t.k,k=t.r,I=t.aI,B=t.o,T=t.l,N=t.v,O=t.U,q=t.ad,W=t.t,J=t.P,Y=t.ae,R=t.ao,U=t.c,z=t.aJ,E=t.ak,Q=t.a3,$=t.F,F=t.O,L=t.j,G=t.a4,P=t.S,j=t.X,V=t.x,Z=t.a2},t=>{D=t.G,H=t.dT,K=t.dZ,X=t.aC,tt=t.dh,et=t.dS,at=t.dV,nt=t.dj,it=t.df,lt=t.e2},t=>{st=t.m,ot=t.O,rt=t.U},t=>{dt=t._},null],execute:function(){var e=document.createElement("style");e.textContent=".n-radio-group .n-radio-button[data-v-6be620d4]{padding:0 10px}\n/*$vite$:1*/",document.head.appendChild(e);const ut=t=>a.post("/config?action=SetControl",t,{requestOptions:{loading:n.global.t("Monitor.API.system_1"),successMessage:!0}}),ct=t=>a.post("/ajax?action=GetCpuIo",t),mt={class:"flex-center h-full"},pt=i({},[["render",function(t,e){const a=D;return M(),S("div",mt,[w(a,{size:"large"})])}]]),xt=["title"],yt=C({__name:"index",setup(t){const e=k(null),a=k(null),{isFullscreen:n,toggle:i}=I(a),o=()=>{i()};return B(()=>{e.value&&(a.value=l(e.value,"n-card"))}),(t,a)=>{const i=s;return T((M(),S("div",{ref_key:"iconRef",ref:e,class:"inline-flex cursor-pointer ml-8px",title:t.$t("Monitor.System.index_27"),onClick:o},[w(i,{ref_key:"iconRef",ref:e,name:"base-full-exit",size:"22"},null,512)],8,xt)),[[N,O(n)]])}}}),vt={class:"flex"},At=i(C({__name:"index",props:q({day:{default:30}},{value:{default:()=>[]},valueModifiers:{}}),emits:q(["refresh"],["update:value"]),setup(t,{emit:e}){const a=W(t,"day"),n=e,{t:i}=J(),l=Y(t,"value"),c=k(),m=k(),p=k("today"),x=k(null),y=k(!1),v=[{label:i("Public.Search.Yesterday"),value:"yesterday"},{label:i("Public.Search.Today"),value:"today"},{label:i("Public.Search.Last7"),value:"7"}],{x:A,y:f,width:h,height:g}=R(c),b=U(()=>A.value+h.value),_=U(()=>f.value+g.value);z(m,()=>{y.value=!1});const C=t=>{"custom"!==t&&(x.value=null,l.value=N())},I=t=>{r(t)&&t[0]!==t[1]&&(l.value=t.map(t=>d(t)),y.value=!1)},B=()=>{y.value||(y.value=!0)},T=t=>{const e=new Date,n=st(e,-a.value);return ot(n).getTime()>=t||ot(e).getTime()<t};function N(){const t=new Date;let e={start:ot(t),end:t};switch(p.value){case"yesterday":e=u(st(t,-1));break;case"7":e.start=ot(st(t,-6))}return[d(e.start),d(e.end)]}0===l.value.length&&(l.value=N());const q=()=>{n("refresh")};return(t,e)=>{const a=K,n=H,i=s,l=X,r=o,d=tt;return M(),S("div",vt,[w(n,{value:O(p),"onUpdate:value":[e[0]||(e[0]=t=>E(p)?p.value=t:null),C],size:"small"},{default:Q(()=>[(M(),S($,null,F(v,t=>w(a,{key:t.value,value:t.value},{default:Q(()=>[L(G(t.label),1)]),_:2},1032,["value"])),64)),w(a,{ref_key:"customRef",ref:c,value:"custom",onClick:B},{default:Q(()=>[L(G(t.$t("Public.Search.Custom")),1)]),_:1},512)]),_:1},8,["value"]),w(l,{size:"small",class:"ml-10px px-8px",onClick:q},{default:Q(()=>[w(i,{name:"refresh",size:"14"})]),_:1}),w(d,{show:O(y),placement:"bottom",trigger:"manual",x:O(b),y:O(_),"show-arrow":!1,style:{padding:0}},{trigger:Q(()=>e[2]||(e[2]=[P("div",{class:"hidden"},null,-1)])),default:Q(()=>[P("div",{ref_key:"popoverContentRef",ref:m},[w(r,{value:O(x),"onUpdate:value":[e[1]||(e[1]=t=>E(x)?x.value=t:null),I],type:"daterange",panel:!0,actions:null,"is-date-disabled":T},null,8,["value"])],512)]),_:1},8,["show","x","y"])])}}}),[["__scopeId","data-v-6be620d4"]]),ft=["title"],ht=C({__name:"index",setup(t){const e=k(null),a=k(null),{isFullscreen:n,toggle:i}=I(a),o=()=>{i()};return B(()=>{e.value&&(a.value=l(e.value,"n-card"))}),(t,a)=>{const i=s;return T((M(),S("div",{ref_key:"iconRef",ref:e,class:"inline-flex cursor-pointer ml-8px",title:t.$t("Monitor.System.index_26"),onClick:o},[w(i,{ref_key:"iconRef",ref:e,name:"base-full",size:"22"},null,512)],8,ft)),[[N,!O(n)]])}}});function gt(){const{t:t}=J(),e=j("--color-text-2"),a=j("--color-border");function n(t,e){let a=0;const n=(e-t)/3600/1e3,i=n/24;return a=n<=1?.02:n<=3?.5:n<=6?1:n<=12?3:n<=20?6:n<=24?8:i<=3?14:i<=7?24:168,36e5*a}return{option:V({}),getAddTime:function(t,e){const a=new Date,n=a.getMonth()+1,i=e.split(" ")[0].split("/");parseInt(i[0]);const l=t.split(" "),s=l[0].split("/"),o=l[1].split(":"),r=parseInt(s[0]);let d=a.getFullYear();r<n&&(d-=1);const u=parseInt(s[1]),c=parseInt(o[0]),m=parseInt(o[1]);return new Date(d,r-1,u,c,m).getTime()},getInterval:n,renderTooltip:function(){return{trigger:"axis",axisPointer:{type:"cross"},padding:0,backgroundColor:"transparent",borderColor:"transparent",position:(t,e,a,n,i)=>function(t,e){const a=e.size.contentSize[0],n=e.size.contentSize[1],i=window.innerWidth,s=window.innerHeight,o=l(t,"n-spin-content")?.getBoundingClientRect(),r=e.pos[0]+(o?.left||0),d=e.pos[1]+(o?.top||0);let u=0,c=0;return c=r+a+80<i?e.pos[0]+20:e.pos[0]-a-20,u=d+n+80<s?e.pos[1]+20:e.pos[1]-n-20,d-n<0&&(u=0-(o?.top||0)+10),[c,u]}(a,{pos:t,size:i})}},renderTable:function(e,a=""){let n="",i="",l=[{title:"PID",index:1},{title:t("Monitor.System.index_28"),width:"120px",index:2},{title:t("Monitor.System.index_29"),index:0,render:t=>`${t[0]}%`},{title:t("Monitor.System.index_30"),index:4}];return"memory"===a&&(l=[{title:"PID",index:1},{title:t("Monitor.System.index_28"),width:"120px",index:2},{title:t("Monitor.System.index_31"),index:0,render:t=>m(p(t[0]))},{title:t("Monitor.System.index_30"),index:4}]),"disk"===a&&(l=[{title:"PID",index:3},{title:t("Monitor.System.index_28"),width:"100px",index:4},{title:t("Monitor.System.index_32"),index:0,render:t=>m(p(t[0]))},{title:t("Monitor.System.index_18"),index:1,render:t=>m(p(t[1]))},{title:t("Monitor.System.index_19"),index:2,render:t=>m(p(t[2]))},{title:t("Monitor.System.index_30"),index:6}]),l.forEach(t=>{n+=`<th style="width: ${t.width||"auto"};">${t.title}</th>`}),e.forEach(t=>{let e="";l.forEach(a=>{e+=`<td style="width: ${a.width||"auto"};">\n\t\t\t\t\t${a.render?a.render(t):t[a.index]}\n\t\t\t\t</td>`}),i+=`<tr>${e}</tr>`}),`<div class="process-top5">\n\t\t\t<div class="process-header"></div>\n\t\t\t<table>\n\t\t\t\t<thead>${n}</thead>\n\t\t\t\t<tbody>${i}</tbody>\n\t\t\t</table>\n\t\t</div>`},renderDataZoom:function(t,e){return[{type:"inside",start:0,end:100,zoomLock:!0,...t},{type:"slider",bottom:24,start:0,end:100,handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",handleSize:"80%",handleStyle:{color:"#fff",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.6)",shadowOffsetX:2,shadowOffsetY:2},...e}]},renderXAxis:function(t,a){return{type:"time",min:t,minInterval:n(t,a),axisLine:{lineStyle:{color:e.value}},axisLabel:{formatter(t){const e=c(t,"MM-dd HH:mm").split(" ");return`${e[0]}\n${e[1]}`}}}},renderYAxis:function(t){return{name:t,scale:!0,min:0,splitLine:{show:!0,lineStyle:{color:a.value}},nameTextStyle:{color:e.value,fontSize:12,align:"left"},axisLine:{lineStyle:{color:e.value}}}},renderSeries:function(t,e){return{name:t,smooth:!0,symbol:"circle",showSymbol:!1,itemStyle:{color:e},lineStyle:{width:2,color:e}}}}}const bt={class:"flex items-center"},_t=C({__name:"system-load",props:{day:{default:30}},setup(t){const{t:e}=J(),n=j("--color-text-2"),i=new Date,l=k([d(ot(i)),d(i)]),s=k(!1),{option:o,getAddTime:u,renderTooltip:m,renderTable:v,renderXAxis:A,renderYAxis:f,renderSeries:h,renderDataZoom:g}=gt(),{loading:_,setLoading:S}=b(),C=async()=>{try{S(!0);const{message:i}=await(t={start:l.value[0],end:l.value[1]},a.post("/ajax?action=get_load_average",t));if(r(i)){const t=[],a=[],r=[],d=[];for(let e=0;e<i.length;e++){const n=i[e];n.time=u(n.addtime,i[i.length-1].addtime),a.push([n.time,n.pro,n]),t.push([n.time,n.one,n]),r.push([n.time,n.five,n]),d.push([n.time,n.fifteen,n])}let x=l.value[1],b=l.value[0];i.length>0?(x=i[0].time,b=rt(i[i.length-1].time).getTime(),s.value=!1):s.value=!0,function(t,a,i){o.value={legend:{top:"16px",right:"16%",textStyle:{color:n.value},data:[e("Monitor.System.index_9"),e("Monitor.System.index_10"),e("Monitor.System.index_11")]},tooltip:{...m(),formatter(t){let a="",n="",i="";const l=Object.entries(t);return l.forEach(([t,s])=>{const{data:o}=s,[,r,d]=o;if(l.length>1&&"0"===t){const t=d.pro;n+=`<div class="select-data">\n\t\t\t\t\t\t\t<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:rgb(255, 140, 0);"></span>\n\t\t\t\t\t\t\t<span>${e("Monitor.System.index_14")}${y(t)?t.toFixed(2):0}%</span>\n\t\t\t\t\t\t</div>`}"0"===t&&(i=v(d.cpu_top)),a=s.axisValue,n+=`<div class="select-data">\n\t\t\t\t\t\t${s.marker}\n\t\t\t\t\t\t<span>${s.seriesName}ï¼š${y(r)?r.toFixed(2):0}%</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 440px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${a?c(a):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${n}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},dataZoom:g({xAxisIndex:[0,1]},{left:"5%",right:"5%",xAxisIndex:[0,1]}),grid:[{left:"5%",bottom:92,right:"55%",width:"40%",height:"auto"},{bottom:92,left:"55%",width:"40%",height:"auto"}],xAxis:[{...A(t,a),gridIndex:0},{...A(t,a),gridIndex:1}],yAxis:[{...f(e("Monitor.System.index_12")),gridIndex:0,max:function(t){return t.max>=100?Math.ceil(t.max):t.max>=80?100:p((t.max+10).toString().slice(0,1)+"0")}},{...f(e("Monitor.System.index_13")),gridIndex:1}],series:[{type:"line",xAxisIndex:0,yAxisIndex:0,data:i.pro,...h(e("Monitor.System.index_12"),"rgb(255, 140, 0)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.one,...h(e("Monitor.System.index_9"),"rgb(30, 144, 255)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.five,...h(e("Monitor.System.index_10"),"rgb(0, 178, 45)")},{type:"line",xAxisIndex:1,yAxisIndex:1,data:i.fifteen,...h(e("Monitor.System.index_11"),"rgb(147, 38, 255)")}]}}(b,x,{one:t,pro:a,five:r,fifteen:d})}}finally{S(!1)}var t};return C(),(t,e)=>{const a=ht,n=At,i=yt,r=pt,d=x,u=et;return M(),Z(u,{class:"h-388px"},{header:Q(()=>[P("div",bt,[P("span",null,G(t.$t("Monitor.System.index_8")),1),w(a)])]),"header-extra":Q(()=>[w(n,{value:O(l),"onUpdate:value":[e[0]||(e[0]=t=>E(l)?l.value=t:null),C],day:t.day,onRefresh:C},null,8,["value","day"]),w(i)]),default:Q(()=>[w(d,{class:"h-full",show:O(_)},{default:Q(()=>[O(s)?(M(),Z(r,{key:0})):(M(),Z(dt,{key:1,type:"line",height:"100%",option:O(o)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),St={class:"flex items-center"},Mt=C({__name:"system-cpu",props:{day:{default:30}},setup(t){const{t:e}=J(),a=new Date,n=k([d(ot(a)),d(a)]),i=k(!1),{option:l,getAddTime:s,renderTooltip:o,renderTable:u,renderXAxis:m,renderYAxis:p,renderSeries:v,renderDataZoom:A}=gt(),{loading:f,setLoading:h}=b(),g=async()=>{try{h(!0);const{message:t}=await ct({start:n.value[0],end:n.value[1]});if(r(t)){const a=[];for(let e=0;e<t.length;e++){const n=t[e];n.time=s(n.addtime,t[t.length-1].addtime),a.push([n.time,n.pro,n])}let r=n.value[1],d=n.value[0];t.length>0?(r=t[0].time,d=rt(t[t.length-1].time).getTime(),i.value=!1):i.value=!0,function(t,a,n){l.value={tooltip:{...o(),formatter(t){let a="",n="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:l}=e,[,s,o]=l;"0"===t&&(i=u(o.cpu_top)),a=e.axisValue,n+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}ï¼š${y(s)?s.toFixed(2):0}%</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 440px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${a?c(a):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${n}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},dataZoom:A(),xAxis:{...m(t,a)},yAxis:{...p("CPU"),max:100},series:[{type:"line",data:n.cpu,...v("CPU","rgb(0, 153, 238)")}]}}(d,r,{cpu:a})}}finally{h(!1)}};return g(),(t,e)=>{const a=ht,s=At,o=yt,r=pt,d=x,u=et;return M(),Z(u,{class:"h-388px"},{header:Q(()=>[P("div",St,[e[1]||(e[1]=P("span",null,"CPU",-1)),w(a)])]),"header-extra":Q(()=>[w(s,{value:O(n),"onUpdate:value":[e[0]||(e[0]=t=>E(n)?n.value=t:null),g],day:t.day,onRefresh:g},null,8,["value","day"]),w(o)]),default:Q(()=>[w(d,{class:"h-full",show:O(f)},{default:Q(()=>[O(i)?(M(),Z(r,{key:0})):(M(),Z(dt,{key:1,type:"line",height:"100%",option:O(l)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),wt={class:"flex items-center"},Ct=C({__name:"system-memory",props:{day:{default:30}},setup(t){const{t:e}=J(),a=new Date,n=k([d(ot(a)),d(a)]),i=k(!1),{option:l,getAddTime:s,renderTooltip:o,renderTable:u,renderXAxis:m,renderYAxis:p,renderSeries:v,renderDataZoom:A}=gt(),{loading:f,setLoading:h}=b(),g=async()=>{try{h(!0);const{message:t}=await ct({start:n.value[0],end:n.value[1]});if(r(t)){const a=[];for(let e=0;e<t.length;e++){const n=t[e];n.time=s(n.addtime,t[t.length-1].addtime),a.push([n.time,n.mem,n])}let r=n.value[1],d=n.value[0];t.length>0?(r=t[0].time,d=rt(t[t.length-1].time).getTime(),i.value=!1):i.value=!0,function(t,a,n){l.value={tooltip:{...o(),formatter(t){let a="",n="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:l}=e,[,s,o]=l;"0"===t&&(i=u(o.memory_top,"memory")),a=e.axisValue,n+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}ï¼š${y(s)?s.toFixed(2):0}%</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 480px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${a?c(a):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${n}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},dataZoom:A(),xAxis:{...m(t,a)},yAxis:{...p(e("Monitor.System.index_16")),max:100},series:[{type:"line",data:n.memory,...v(e("Monitor.System.index_16"),"rgb(0, 153, 238)")}]}}(d,r,{memory:a})}}finally{h(!1)}};return g(),(t,e)=>{const a=ht,s=At,o=yt,r=pt,d=x,u=et;return M(),Z(u,{class:"h-388px"},{header:Q(()=>[P("div",wt,[P("span",null,G(t.$t("Monitor.System.index_16")),1),w(a)])]),"header-extra":Q(()=>[w(s,{value:O(n),"onUpdate:value":[e[0]||(e[0]=t=>E(n)?n.value=t:null),g],day:t.day,onRefresh:g},null,8,["value","day"]),w(o)]),default:Q(()=>[w(d,{class:"h-full",show:O(f)},{default:Q(()=>[O(i)?(M(),Z(r,{key:0})):(M(),Z(dt,{key:1,type:"line",height:"100%",option:O(l)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),kt={class:"flex items-center"},It="KB",Bt=C({__name:"system-disk",props:{day:{default:30}},setup(t){const{t:e}=J(),n=j("--color-text-2"),i=new Date,l=k([d(ot(i)),d(i)]),s=k(!1),{option:o,getAddTime:u,renderTooltip:v,renderTable:A,renderXAxis:f,renderYAxis:h,renderSeries:g,renderDataZoom:_}=gt(),{loading:S,setLoading:C}=b(),I=t=>p(m(t,!1,3,It)),B=async()=>{try{C(!0);const{message:i}=await(t={start:l.value[0],end:l.value[1]},a.post("/ajax?action=GetDiskIo",t));if(r(i)){const t=[],a=[],r=[],d=[];for(let n=0;n<i.length;n++){const l=i[n],s=I(l.read_bytes),o=I(l.write_bytes),c=l.read_time+l.write_time;l.time=u(l.addtime,i[i.length-1].addtime),t.push([l.time,s,l,`${It}/s`]),a.push([l.time,o,l,`${It}/s`]),r.push([l.time,c,l,`${e("Public.Unit.Time",c)}/s`]),d.push([l.time,l.read_count+l.write_count,l,"ms"])}let m=l.value[1],p=l.value[0];i.length>0?(m=i[0].time,p=rt(i[i.length-1].time).getTime(),s.value=!1):s.value=!0,function(t,a,i){o.value={legend:{top:"16px",textStyle:{color:n.value},data:[e("Monitor.System.index_18"),e("Monitor.System.index_19"),e("Monitor.System.index_20"),e("Monitor.System.index_21")]},tooltip:{...v(),formatter(t){let a="",n="",i="";return Object.entries(t).forEach(([t,e])=>{const{data:l}=e,[,s,o,r]=l;"0"===t&&(i=A(o.disk_top,"disk")),a=e.axisValue,n+=`<div class="select-data">\n\t\t\t\t\t\t${e.marker}\n\t\t\t\t\t\t<span>${e.seriesName}ï¼š${y(s)?s.toFixed(2):0}  ${r}</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 560px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${a?c(a):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${n}\n\t\t\t\t\t\t${i}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},dataZoom:_(),xAxis:{...f(t,a)},yAxis:{...h(e("Monitor.System.index_22",[It]))},series:[{type:"line",data:i.read,...g(e("Monitor.System.index_18"),"rgb(255, 70, 131)")},{type:"line",data:i.write,...g(e("Monitor.System.index_19"),"rgba(46, 165, 186, .7)")},{type:"line",data:i.countTotal,...g(e("Monitor.System.index_20"),"rgba(30, 144, 255)")},{type:"line",data:i.timeTotal,...g(e("Monitor.System.index_21"),"rgba(255, 140, 0)")}]}}(p,m,{read:t,write:a,timeTotal:r,countTotal:d})}}finally{C(!1)}var t};return B(),(t,e)=>{const a=ht,n=At,i=yt,r=pt,d=x,u=et;return M(),Z(u,{class:"h-388px"},{header:Q(()=>[P("div",kt,[P("span",null,G(t.$t("Monitor.System.index_17")),1),w(a)])]),"header-extra":Q(()=>[w(n,{value:O(l),"onUpdate:value":[e[0]||(e[0]=t=>E(l)?l.value=t:null),B],day:t.day,onRefresh:B},null,8,["value","day"]),w(i)]),default:Q(()=>[w(d,{class:"h-full",show:O(S)},{default:Q(()=>[O(s)?(M(),Z(r,{key:0})):(M(),Z(dt,{key:1,type:"line",height:"100%",option:O(o)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),Tt={class:"flex whitespace-pre-wrap items-center"},Nt={class:"w-100px"},Ot="KB",qt=C({__name:"system-network",props:{day:{default:30}},setup(t){const{t:e}=J(),n=j("--color-text-2"),i=new Date,l=k([d(ot(i)),d(i)]),s=k("all"),o=k([]),u=k(!1),{option:v,getAddTime:A,renderTooltip:f,renderXAxis:h,renderYAxis:g,renderSeries:_,renderDataZoom:S}=gt(),{loading:C,setLoading:I}=b(),B=t=>p(m(1024*t,!1,3,Ot)),T=t=>{o.value.length>0||(o.value=Object.keys(t).map(t=>({label:t,value:t})),o.value.unshift({label:e("Public.All"),value:"all"}))},N=async()=>{try{I(!0);const{message:i}=await(t={start:l.value[0],end:l.value[1]},a.post("/ajax?action=GetNetWorkIo",t));if(r(i)){const t=[],a=[];for(let e=0;e<i.length;e++){const n=i[e],l="all"===s.value?n.up:n.up_packets[s.value],o="all"===s.value?n.down:n.down_packets[s.value],r=B(l),d=B(o);n.time=A(n.addtime,i[i.length-1].addtime),t.push([n.time,r,n,`${Ot}/s`]),a.push([n.time,d,n,`${Ot}/s`])}let o=l.value[1],r=l.value[0];i.length>0?(o=i[0].time,r=rt(i[i.length-1].time).getTime(),u.value=!1,T(i[0].down_packets)):(u.value=!0,T({})),function(t,a,i){v.value={legend:{top:"16px",textStyle:{color:n.value},data:[e("Monitor.System.index_24"),e("Monitor.System.index_25")]},tooltip:{...f(),formatter(t){let a="",n="";return Object.entries(t).forEach(([,t])=>{const{data:e}=t,[,i,,l]=e;a=t.axisValue,n+=`<div class="select-data">\n\t\t\t\t\t\t${t.marker}\n\t\t\t\t\t\t<span>${t.seriesName}ï¼š${y(i)?i.toFixed(2):0}  ${l}</span>\n\t\t\t\t\t</div>`}),`<div class="echarts-tooltip" style="width: 280px;">\n\t\t\t\t\t<div class="formatter-header">\n\t\t\t\t\t\t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAABHNCSVQICAgIfAhkiAAAAgBJREFUWIXtWN1xgzAMlkQ3YoCaYaJji8AWPjJM3AEYCasPNT3XZ2xBk17b43uCiy190b8AOHHixN8GPkpQ3/cmfrfWukfIPUyw73vjvTci8oqIJndGRBwivk3TNPwoQWYeAOC689p4hOgugsFq971KYhBRt8f9pD3IzEOOnIg4ABiJqCOibpomBIARAMbw2xd47+/BAyqoLJiznIi4pmnGmjW2rK615IuGYEbBeLvdBs3dQALTuA0yqwZqageCYBOTOxLs8zy7tm0xltW2Lc7z7Er3qv+AmSV+DzF2GJfL5R6XpZqri0mSBjMRdd8hBwDQNM0Yv3vvTel8kaCIvEbPTpMQaUdJYa11cXbHOnIoJknsCkR8KxFbluW6WoOZi64LskyqI4dNC9YsEcN7f08VLcuy2WmIyGl1qQv1VuZuCUfEqrs1UBN8hLIVT2l1JWW5llYisqfVbRJMhZfKQVo6RMTtKUklixazOMxzJjxvloO1na1hUHNhmCE/dZTOFl0clxZN0FtrVbVSW76qBNNyUCodWqSDR62vFwkGa3zGFyKaPQGeInN3zJ2LoWr86cAAByaa3JqgGTxU8yARdYlrrsx81QydaxuEryObevBQj05bi9K6uQF8xNOaSJWNT+2BX780/a+1MwUzD5rFnYiq9fEpBGM869PHiRMn/jreAZxNPtSJHlfLAAAAAElFTkSuQmCC" alt="path" />\n\t\t\t\t\t\t<span>${e("Monitor.System.index_15")}${a?c(a):"--"}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="formatter-body">\n\t\t\t\t\t\t${n}\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}},grid:{bottom:92},dataZoom:S(),xAxis:{...h(t,a)},yAxis:{...g(e("Monitor.System.index_22",[Ot]))},series:[{type:"line",data:i.up,..._(e("Monitor.System.index_24"),"rgb(255, 70, 131)")},{type:"line",data:i.down,..._(e("Monitor.System.index_25"),"rgba(46, 165, 186, .7)")}]}}(r,o,{up:t,down:a})}}finally{I(!1)}var t};return N(),(t,e)=>{const a=at,n=ht,i=At,r=yt,d=pt,c=x,m=et;return M(),Z(m,{class:"h-388px"},{header:Q(()=>[P("div",Tt,[P("span",null,G(t.$t("Monitor.System.index_23")),1),P("div",Nt,[w(a,{value:O(s),"onUpdate:value":[e[0]||(e[0]=t=>E(s)?s.value=t:null),N],options:O(o),size:"small","consistent-menu-width":!1},null,8,["value","options"])]),w(n)])]),"header-extra":Q(()=>[w(i,{value:O(l),"onUpdate:value":[e[1]||(e[1]=t=>E(l)?l.value=t:null),N],day:t.day,onRefresh:N},null,8,["value","day"]),w(r)]),default:Q(()=>[w(c,{class:"h-full",show:O(C)},{default:Q(()=>[O(u)?(M(),Z(d,{key:0})):(M(),Z(dt,{key:1,type:"line",height:"100%",option:O(v)},null,8,["option"]))]),_:1},8,["show"])]),_:1})}}}),Wt={class:"flex items-center flex-wrap"},Jt={class:"inline-flex items-center mr-32px"},Yt={class:"mr-12px"},Rt={class:"inline-flex items-center"},Ut={class:"mr-6px"},zt={class:"w-86px mr-12px"},Et={class:"inline-flex mx-32px"},Qt={class:"mr-16px"};t("default",C({__name:"index",setup(t){const{t:e}=J(),i=k({day:0,status:!1,size:0}),l=async t=>{await ut({type:t?1:0,day:i.value.day}),i.value.status=t},s=async()=>{i.value.day?/^-?\d+$/.test(`${i.value.day}`)?await ut({type:i.value.status?1:0,day:i.value.day}):f.error(e("Monitor.System.index_6")):f.error(e("Monitor.System.index_5"))},o=()=>{_({title:e("Monitor.System.index_4"),content:()=>w("span",{class:"text-error"},[e("Monitor.System.index_7")]),onConfirm:async()=>{await a.post("/config?action=SetControl",{type:"del"},{requestOptions:{loading:n.global.t("Monitor.API.system_2"),successMessage:!0}}),h()}})};return(async()=>{const{message:t}=await(e={type:-1},a.post("/config?action=SetControl",e));var e;g(t)&&(i.value=t)})(),(t,e)=>{const a=nt,n=it,r=X,d=v,u=et,c=lt,p=A;return M(),S("div",null,[w(u,{class:"p-16px mb-16px"},{default:Q(()=>[P("div",Wt,[P("div",Jt,[P("span",Yt,G(t.$t("Monitor.System.index_1")),1),w(a,{value:O(i).status,"onUpdate:value":l},null,8,["value"])]),P("div",Rt,[P("span",Ut,G(t.$t("Monitor.System.index_2")),1),P("div",zt,[w(n,{value:O(i).day,"onUpdate:value":e[0]||(e[0]=t=>O(i).day=t),min:1,"show-button":!1,placeholder:""},null,8,["value"])]),w(r,{onClick:s},{default:Q(()=>[L(G(t.$t("Monitor.System.index_3")),1)]),_:1})]),P("div",Et,[w(d,{vertical:""})]),P("span",Qt,G(t.$t("Monitor.System.index_33"))+G(O(m)(O(i).size)),1),w(r,{onClick:o},{default:Q(()=>[L(G(t.$t("Monitor.System.index_4")),1)]),_:1})])]),_:1}),w(p,{"x-gap":"16","y-gap":"16",cols:2},{default:Q(()=>[w(c,{span:2},{default:Q(()=>[w(_t,{day:O(i).day},null,8,["day"])]),_:1}),w(c,{span:1},{default:Q(()=>[w(Mt,{day:O(i).day},null,8,["day"])]),_:1}),w(c,{span:1},{default:Q(()=>[w(Ct,{day:O(i).day},null,8,["day"])]),_:1}),w(c,{span:1},{default:Q(()=>[w(Bt,{day:O(i).day},null,8,["day"])]),_:1}),w(c,{span:1},{default:Q(()=>[w(qt,{day:O(i).day},null,8,["day"])]),_:1})]),_:1})])}}}))}}});
