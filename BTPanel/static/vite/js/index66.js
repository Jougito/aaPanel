import{u as e,e as s,a as t,b as a,d as i,s as n,_ as o,R as l}from"./tableColumns.js?v=1760428868419";import{bd as r,d3 as p,d as m,cZ as u,p as d,V as _,c_ as c,c$ as f,x as g,o as v}from"./page_layout.js?v=1760428868419";import{aC as x,dS as y}from"./naive.js?v=1760428868419";import{k as h,r as w,a2 as S,V as b,U as j,ak as k,a3 as C,W as R,q as $,R as U,S as z,a4 as L,j as P,P as N,w as B,N as H}from"./vue.js?v=1760428868419";import{R as q,c as F,f as I,K as V,L as A,N as D,O as K,b as M,a as O,d as T,P as W,h as Z}from"./public.js?v=1760428868419";import{_ as E}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1760428868419";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1760428868419";import{a as J}from"./soft.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1760428868419";import"./soft2.js?v=1760428868419";import"./index.js?v=1760428868419";import"./common.js?v=1760428868419";import"./__commonjsHelpers__.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1760428868419";import"./site.js?v=1760428868419";const Q=h({__name:"index",emits:["finish"],setup(e,{emit:s}){const t=s,a=w([]),i=async({file:e})=>{try{const s=new FormData;e.file&&s.append("plugin_zip",e.file);const{message:a}=await p(s);m(a)&&t("finish",a)}finally{a.value=[]}};return(e,s)=>{const t=x,n=r;return b(),S(n,{ref:"upload",class:"w-auto",action:"","file-list":j(a),"onUpdate:fileList":s[0]||(s[0]=e=>k(a)?a.value=e:null),"show-file-list":!1,multiple:!1,"custom-request":i},{default:C(()=>[R(t,{type:"primary"},{default:C(()=>[$(e.$slots,"default")]),_:3})]),_:3},8,["file-list"])}}}),X={class:"box appStore-third-tips"},Y=d(h({__name:"index",setup(e){const s=u(),t=e=>{q(e,()=>{s.setRefresh(!0)})},a=()=>{window.open("https://www.aapanel.com/forum","_blank")};return(e,s)=>{const i=x;return b(),U("div",X,[z("span",null,L(e.$t("Soft.index_22")),1),R(i,{type:"primary",class:"mx-10px",size:"small",onClick:a},{default:C(()=>[P(L(e.$t("Soft.index_23")),1)]),_:1}),R(Q,{onFinish:t},{default:C(()=>[P(L(e.$t("Soft.index_24")),1)]),_:1})])}}}),[["__scopeId","data-v-511c6003"]]),ee=h({__name:"index",setup(o){const{t:l}=N(),r=u(),{keys:p,table:d,columns:x}=F([e(),{key:"name",title:l("Soft.index_9"),width:"100",ellipsis:{tooltip:{width:"trigger"}},render:e=>e.author?e.author:l("Soft.index_11")},{key:"name",title:l("Soft.index_10"),ellipsis:{tooltip:{width:"trigger"}},render:e=>R("span",{innerHTML:e.ps},null)},{key:"name",title:l("Soft.index_12"),width:"80",render:e=>"0.00"===e.price||0===e.price?R("span",null,[l("Soft.index_13")]):R("span",{class:"color-#fc6d26"},["$".concat(e.price)])},s(),t(),a(),i(),I({width:200,align:"right",options:e=>[{label:l("Home.index_5"),show:V(e),onClick:()=>{const s=D(e),t={name:e.name,title:e.title,m_version:e.versions[s].m_version,version:e.versions[s].version,update_msg:e.versions[s].update_msg};K(t,()=>{w()})}},{label:l("Layout.Sider.mail_12"),show:e.setup&&!A(e),onClick:()=>{J(e)}},{label:-1===e.endtime?l("Component.Auth.index_3"):l("Soft.index_18"),show:A(e),onClick:()=>{const s={source:-1===e.endtime?31:32,plugin:{name:e.title,pid:e.pid,type:e.type,plugin:!0,renew:e.endtime,ps:e.ps}};M(s)}},{label:l("Public.Btn.Install"),show:!e.setup&&!A(e),onClick:()=>{O({title:l("Soft.index_25"),content:l("Soft.index_38",[e.title]),onConfirm:async()=>{const{message:s}=await _({sName:e.name,version:e.manager_version,type:0});q(s,()=>{w()})}})}},{label:l("Public.Btn.Uninstall"),show:e.setup,onClick:()=>{O({title:l("Public.Btn.Uninstall"),content:l("Soft.index_15",[e.title,e.version]),onConfirm:async()=>{e.version=e.name.includes("php-")?e.versions[0].m_version:e.version,await c({sName:e.name,version:e.version}),w()}})}}]})]),{loading:y,setLoading:h}=T();B(()=>r.isRefresh,e=>{e&&(r.setRefresh(!1),w())});const w=async()=>{try{h(!0);const{message:e}=await f(H({...n,type:10}),!!n.force);m(e)&&(d.data=e.list.data,d.total=g(e.list.page))}finally{p.value=[],n.force=0,h(!1)}};return w(),(e,s)=>{const t=v,a=Z,i=G,o=E;return b(),S(o,{class:"py-16px"},{table:C(()=>[R(a,{"row-key":"name",loading:j(y),data:j(d).data,columns:j(x)},{empty:C(()=>[R(t,{onClick:j(W)},{default:C(()=>[P(L(e.$t("Soft.index_26")),1)]),_:1},8,["onClick"])]),_:1},8,["loading","data","columns"])]),pageRight:C(()=>[R(i,{page:j(n).p,"onUpdate:page":s[0]||(s[0]=e=>j(n).p=e),"page-size":j(n).row,"onUpdate:pageSize":s[1]||(s[1]=e=>j(n).row=e),"item-count":j(d).total,onRefresh:w},null,8,["page","page-size","item-count"])]),_:1})}}}),se=h({__name:"index",setup:e=>(e,s)=>{const t=y;return b(),S(t,{class:"p-16px"},{default:C(()=>[R(o),R(l),R(Y),R(ee)]),_:1})}});export{se as default};
