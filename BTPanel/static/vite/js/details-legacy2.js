System.register(["./public-legacy.js?v=1760428868419","./page_layout-legacy.js?v=1760428868419","./index-legacy80.js?v=1760428868419","./tools-legacy2.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy15.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./common-legacy.js?v=1760428868419","./__commonjsHelpers__-legacy.js?v=1760428868419","./rules-legacy.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy5.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1760428868419","./index-legacy99.js?v=1760428868419"],function(e,t){"use strict";var l,a,o,r,i,n,s,c,u,d,p,_,v,y,g,f,x,m;return{setters:[e=>{l=e.c,a=e.f,o=e.h},e=>{r=e.dd,i=e.w},e=>{n=e.g},e=>{s=e.s},e=>{c=e.k,u=e.t,d=e.P,p=e.X,_=e.aG,v=e.R,y=e.V,g=e.W,f=e.U,x=e.S},e=>{m=e._},null,null,null,null,null,null,null,null,null],execute:function(){const t={class:"h-full"},b=c({__name:"details-count",props:{data:{default:()=>({})}},setup(e){const l=u(e,"data"),{t:a}=d(),o=p("--color-bg-2"),r=p("--chart-tooltip-bg-color"),i=p("--color-text-1"),n=p("--color-text-2"),s=p("--color-text-3"),c=p("--color-border"),x=_({backgroundColor:o.value,title:h(),tooltip:{trigger:"item",confine:!0,backgroundColor:r.value,borderColor:"transparent",textStyle:{color:"#c7c7c7"},formatter(e){const t=e;return`${t.marker} ${t.name}: ${t.value} (${t.percent}%)`}},series:w()}),b=["#6ec71e","#4885FF","#fc8b40","#818af8","#31c9d7","#f35e7a","#ab7aee","#14d68b","#cde5ff"];function h(e=0){return{text:a("Waf.Report.index_17"),textStyle:{color:i.value,fontSize:17},subtext:`${e}`,subtextStyle:{color:n.value,fontSize:15},itemGap:20,left:"center",top:"42%"}}function w(e=[]){return[{type:"pie",data:e,radius:["50%","60%"],center:["50%","50%"],clockwise:!0,avoidLabelOverlap:!0,label:{show:!0,position:"outside",color:s.value,lineHeight:18,formatter:e=>""!==e.name?0===e.percent?"":a("Waf.Overview.index_33",[e.name,e.value,e.percent]):""},labelLine:{length:30,length2:30,lineStyle:{width:1,color:c.value}},itemStyle:{labelLine:{length:30,length2:30,lineStyle:{width:1,color:c.value}},color:e=>b[e.dataIndex]},emphasis:{scaleSize:15}}]}return(()=>{let e=0;const t=[];Object.entries(l.value).forEach(([l,a])=>{e+=a,t.push({name:l,value:a})}),x.title=h(e),x.series=w(t)})(),(e,l)=>(y(),v("div",t,[g(m,{type:"pie",height:"100%",option:f(x)},null,8,["option"])]))}}),h={class:"h-full"},w=c({__name:"details-uri",props:{data:{default:()=>[]}},setup(e){const t=u(e,"data"),{t:l}=d(),a=p("--color-bg-2"),o=p("--chart-tooltip-bg-color"),i=p("--color-text-1"),n=p("--color-text-2"),s=p("--color-border"),c=_({backgroundColor:a.value,tooltip:{trigger:"item",axisPointer:{type:"shadow",label:{color:"#fff",fontSize:"26"}},backgroundColor:o.value,borderColor:"transparent",textStyle:{color:"#c7c7c7"},formatter(e){const t=e;return`<div style="max-width: 400px;">${t.marker} ${r(t.seriesName||"")}</div>\n\t\t\t<div>${l("Waf.Report.index_16",[t.data])}</div>`}},legend:{top:"0%",data:t.value.slice(0,4).map(e=>e.name),textStyle:{fontSize:12,color:n.value},icon:"rect"},grid:{top:60,left:60,right:0,bottom:50},xAxis:[{type:"category",axisLabel:{color:i.value,fontSize:14,fontWeight:"bold"},data:[l("Waf.Report.index_15")]}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitNumber:4,axisLabel:{color:n.value},splitLine:{lineStyle:{type:"dashed",color:s.value}}}],color:["#4fa8f9","#6ec71e","#f56e6a","#fc8b40","#818af8","#31c9d7","#f35e7a","#ab7aee","#14d68b","#cde5ff"],series:t.value.slice(0,4).map(e=>({name:e.name,type:"bar",label:{show:!0,position:"top"},barMaxWidth:60,data:[e.value]}))});return(e,t)=>(y(),v("div",h,[g(m,{type:"bar",height:"100%",option:f(c)},null,8,["option"])]))}}),j={class:"p-20px"},S={class:"flex h-280px mb-16px"},k={class:"w-410px"},W={class:"w-500px"};e("default",c({__name:"details",props:{row:{}},setup(e){const t=u(e,"row"),{t:c}=d(),{table:p,columns:_}=l([{key:"time_localtime",title:c("Waf.Report.index_13"),width:140},{key:"server_name",title:c("Waf.Report.index_14"),ellipsis:{tooltip:!0}},{key:"ip_country",title:c("Waf.Report.index_8"),render:e=>e.ip_country||"--"},{key:"URI",title:"URI",ellipsis:{tooltip:!0},render:e=>r(e.uri)||"--"},{key:"filter_rule",title:c("Waf.Report.index_34"),width:140},a({width:80,options:e=>[{label:c("Public.Btn.Details"),onClick:async()=>{const{message:t}=await n({id:e.id});i(t)&&t.length>0&&s(t[0])}}]})]);p.data=t.value.data.list;const m=t.value.data.uri.map(e=>({name:e[0],value:e[1]}));return(e,l)=>{const a=o;return y(),v("div",j,[x("div",S,[x("div",k,[g(b,{data:f(t).data.type},null,8,["data"])]),x("div",W,[g(w,{data:f(m)},null,8,["data"])])]),g(a,{"max-height":300,data:f(p).data,columns:f(_)},null,8,["data","columns"])])}}}))}}});
