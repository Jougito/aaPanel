import{_ as e}from"./index245.js?v=1760428868419";import{k as a,P as s,R as n,V as t,W as l,U as o,r as i,a2 as r,a3 as u,S as p,F as m,O as c,an as d,a4 as v,j as _,a0 as g,ak as x}from"./vue.js?v=1760428868419";import{e5 as y,d as w,S as f,e6 as j,e7 as k,w as b,e8 as h,u as S}from"./page_layout.js?v=1760428868419";import{_ as P,a as U}from"./index.vue_vue_type_script_setup_true_lang18.js?v=1760428868419";import{O as C}from"./index259.js?v=1760428868419";import{_ as W}from"./index.vue_vue_type_script_setup_true_lang19.js?v=1760428868419";import{c as N,d as q,h as z}from"./public.js?v=1760428868419";import{da as A,df as H,au as L,dV as O,aC as R}from"./naive.js?v=1760428868419";import{_ as T}from"./index105.js?v=1760428868419";import"./__commonjsHelpers__.js?v=1760428868419";import"./common.js?v=1760428868419";import"./php.js?v=1760428868419";import"./soft.js?v=1760428868419";import"./site.js?v=1760428868419";import"./alarm.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang11.js?v=1760428868419";import"./index100.js?v=1760428868419";import"./index101.js?v=1760428868419";import"./file.js?v=1760428868419";import"./theme-monokai.js?v=1760428868419";import"./leader-line-vue.js?v=1760428868419";const F=a({__name:"index",setup(e,{expose:a}){const{t:i}=s(),{table:r,columns:u}=N([{key:"title",title:i("Plugin.Apache.index_12")},{width:"30%",key:"value",title:i("Plugin.Apache.index_13")}]),p={active:"Active connections",accepts:"Total accepts",handled:"Total handled",requests:"Total requests",Reading:"Reading",Writing:"Writing",Waiting:"Waiting",worker:"Worker process",workercpu:"Nginx CPU usage",workermen:"Nginx memory usage"},{loading:m,setLoading:c}=q(),d=async()=>{try{c(!0);const{message:e}=await y();w(e)&&(r.data=Object.keys(e).map(a=>({title:p[a],value:e[a]})))}finally{c(!1)}};return d(),a({init:d}),(e,a)=>{const s=z;return t(),n("div",null,[l(s,{data:o(r).data,columns:o(u),loading:o(m)},null,8,["data","columns","loading"])])}}}),V={class:"w-150px! text-right"},B={class:"w-250px! color-#666"},I={class:"text-center"},J=a({__name:"index",setup(e,{expose:a}){const{t:g}=s(),x=i(),y=[{label:g("Config.Panel.index_83_1"),value:"on"},{label:g("Config.Safe.index_84"),value:"off"}],w=async()=>{const e=x.value.reduce((e,a)=>(e[a.name]=a.value,e),{});await j(e)},{loading:h,setLoading:S}=q(),P=async()=>{try{S(!0);const{message:e}=await k();b(e)&&(x.value=e)}finally{S(!1)}};return P(),a({init:P}),(e,a)=>{const s=H,i=L,g=O,j=A,k=R,b=f;return t(),r(b,{show:o(h)},{default:u(()=>[(t(!0),n(m,null,c(o(x),(e,a)=>(t(),r(j,{class:"items-center flex-nowrap! py-2px mb-16px",key:a},{default:u(()=>[p("div",V,v(e.name),1),"gzip"!==e.name&&"worker_processes"!==e.name?(t(),r(s,{key:0,class:"w-150px!",value:e.value,"onUpdate:value":a=>e.value=a,min:0,"show-button":!1},null,8,["value","onUpdate:value"])):d("",!0),"worker_processes"===e.name?(t(),r(i,{key:1,class:"w-150px!",value:e.value,"onUpdate:value":a=>e.value=a},null,8,["value","onUpdate:value"])):d("",!0),"gzip"===e.name?(t(),r(g,{key:2,class:"w-150px!",value:e.value,"onUpdate:value":a=>e.value=a,options:y},null,8,["value","onUpdate:value"])):d("",!0),p("div",B,v(e.ps),1)]),_:2},1024))),128)),p("div",I,[l(k,{type:"primary",onClick:w},{default:u(()=>[_(v(e.$t("Public.Btn.Save")),1)]),_:1})])]),_:1},8,["show"])}}}),M=a({__name:"index",setup(e,{expose:a}){const s=i("None"),{loading:n,setLoading:p}=q(),m=async()=>{try{p(!0);const{message:e}=await h({path:"/www/wwwlogs/nginx_error.log"});w(e)&&(s.value=e.result?e.result:"None")}finally{p(!1)}};return m(),a({init:m}),(e,a)=>{const i=T,p=f;return t(),r(p,{class:"h-580px",show:o(n)},{default:u(()=>[l(i,{log:o(s)},null,8,["log"])]),_:1},8,["show"])}}}),$=a({__name:"index",setup(a){const{multiService:n,isWebServerJump:l}=g(S()),{t:u}=s(),p=i("service"),m=[{key:"service",label:u("Security.History.Index_10"),component:P},{key:"webserver",label:u("Soft.Plugin.index_1"),component:C},{key:"file",label:u("Site.Config.index_15"),data:{path:"/www/server/nginx/conf/nginx.conf"},component:U},{key:"version",label:u("Plugin.Ftp.index_9"),component:W},{key:"load",label:u("Home.index_30"),component:F},{key:"optimization",label:u("Plugin.Mysql.index_27"),component:J},{key:"logs",label:u("Site.Config.index_101"),component:M}];return p.value=n.value||l.value?"webserver":"service",l.value&&(l.value=!1),(a,s)=>{const n=e;return t(),r(n,{value:o(p),"onUpdate:value":s[0]||(s[0]=e=>x(p)?p.value=e:null),data:m},null,8,["value"])}}});export{$ as default};
