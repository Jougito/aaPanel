const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index213.js?v=1760428868419","js/index.js?v=1760428868419","js/vue.js?v=1760428868419","js/__commonjsHelpers__.js?v=1760428868419","js/common.js?v=1760428868419","js/public.js?v=1760428868419","js/page_layout.js?v=1760428868419","js/naive.js?v=1760428868419","css/page_layout.css?v=1760428868419","css/public.css?v=1760428868419","css/index109.css?v=1760428868419","js/index.vue_vue_type_script_setup_true_lang.js?v=1760428868419","js/index.vue_vue_type_script_setup_true_lang8.js?v=1760428868419","css/index92.css?v=1760428868419","js/index214.js?v=1760428868419","js/index245.js?v=1760428868419","css/index59.css?v=1760428868419","css/index93.css?v=1760428868419","js/domain-verification.js?v=1760428868419","js/index215.js?v=1760428868419","js/site.js?v=1760428868419","js/ssl-lets-progress.js?v=1760428868419","css/ssl-lets-progress.css?v=1760428868419","js/index216.js?v=1760428868419","js/index99.js?v=1760428868419","css/index14.css?v=1760428868419","css/index94.css?v=1760428868419","js/index217.js?v=1760428868419","js/ssl-log.js?v=1760428868419","js/index105.js?v=1760428868419","css/index19.css?v=1760428868419","js/index116.js?v=1760428868419","js/planned.js?v=1760428868419","css/index73.css?v=1760428868419"])))=>i.map(i=>d[i]);
import{_ as e}from"./index108.js?v=1760428868419";import{k as t,a0 as a,P as n,e as s,W as o,j as i,a2 as l,V as r,a3 as d,U as _,a4 as u,S as c,_ as h,r as p,b as m,R as w,u as S,ak as f}from"./vue.js?v=1760428868419";import{u as y,a8 as g,d as x,o as L,_ as v,a as k}from"./page_layout.js?v=1760428868419";import{_ as E}from"./index133.js?v=1760428868419";import{_ as b}from"./index.js?v=1760428868419";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang5.js?v=1760428868419";import{_ as C}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1760428868419";import{e as D,c as R,f as I,a0 as P,a as U,a1 as T,a2 as B,h as V,_ as O,n as A,a3 as N,a4 as M,a5 as z,a6 as F}from"./public.js?v=1760428868419";import{u as q,i as G,r as H}from"./utils3.js?v=1760428868419";import{A as X}from"./index218.js?v=1760428868419";import{dj as $,aC as W,dh as J,dS as K}from"./naive.js?v=1760428868419";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang8.js?v=1760428868419";import{T as Y}from"./transition.js?v=1760428868419";import"./__commonjsHelpers__.js?v=1760428868419";import"./common.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang.js?v=1760428868419";import"./paypal-js.js?v=1760428868419";const Z=t({__name:"index",setup(e){const t=h(()=>k(()=>import("./index213.js?v=1760428868419"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),p=h(()=>k(()=>import("./index214.js?v=1760428868419"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),m=h(()=>k(()=>import("./domain-verification.js?v=1760428868419"),__vite__mapDeps([18,6,2,3,7,4,5,9,8,11]))),w=y(),{userInfo:S}=a(w),{t:f}=n(),z=s({p:1,limit:10}),F=D(f("SSL.Business.index_41"),{onRefresh:(e,t)=>{Q.data.request=!0,Q.data.uc_id=t,Q.data.verify=e,Q.show=!0,ae()}}),H=D(f("SSL.index_44")),K=D(f("SSL.index_49"),{onRefresh:()=>{ae()}}),Q=D(f("SSL.Business.index_42"),{onRefresh:()=>{ae()}}),{table:Y,columns:Z}=R([{key:"provider",title:f("SSL.Domain.index_28"),render:e=>e.provider||"--"},{key:"verify_domains",title:f("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains&&e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},{key:"title",title:f("Site.Cert.index_44"),render:e=>e.order_info.title},q({title:f("SSL.index_54")}),{key:"proxy",title:f("SSL.index_55"),render:e=>void 0!==e.auto_renew?o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await N({hash:e.hash})}catch(t){e.auto_renew=1===e.auto_renew?0:1}}]},null):o("span",null,[i("--")])},{key:"alarm",title:f("SSL.Domain.index_26"),render:e=>void 0!==e.alarm?o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await M({hash:e.hash,alarm:t})}catch(a){e.alarm=1===t?0:1}}]},null):o("span",null,[i("--")])},{key:"create_time",title:f("Docker.Container.index_9"),render:e=>g(e.order_info.create_time)},G((e,t)=>{K.data.row=e,K.show=!0,K.data.menu=t}),{key:"order_status",title:f("SSL.Business.index_43"),render:e=>{const t=e.order_info;return t.certId||t.domains.length?!t.certId&&t.domains.length?o("span",{class:"color-warning"},[f("SSL.Business.index_45")]):"PENDING"===t.order_status&&1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_46")]):"COMPLETE"===t.order_status&&1===t.status?o("span",{class:"color-#20a53a"},[f("SSL.Business.index_47")]):"CANCELLED"===t.order_status&&1===t.status||-1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_48")]):"FAILED"===t.order_status&&1===t.status?o("span",{class:"color-error"},[f("SSL.Business.index_49")]):"EXPIRED"===t.order_status&&1===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_50")]):1!==t.status||["PENDING","COMPLETE","CANCELLED","FAILED","EXPIRED"].includes(t.order_status)?0===t.status?o("span",{class:"color-warning"},[f("SSL.Business.index_52")]):void 0:o("span",{class:"color-warning"},[f("SSL.Business.index_51")]):o("span",{class:"color-warning cursor-pointer",onClick:()=>ee(e)},[f("SSL.Business.index_44")])}},I({width:250,options:e=>[{show:!e.order_info.certId&&!e.order_info.domains.length,label:f("SSL.Business.index_53"),onClick:()=>{ee(e)}},{show:"PENDING"===e.order_info.order_status&&1===e.order_info.status||!e.order_info.order_status&&e.order_info.certId,label:f("SSL.Business.index_54"),onClick:async()=>{const{message:t}=await P({uc_id:e.order_info.uc_id});x(t)&&(Q.data.uc_id=e.order_info.uc_id,Q.data.verify=t.data,Q.data.paths=t.paths,Q.show=!0)}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("SSL.index_58"),onClick:async()=>{K.data.row=e,K.show=!0}},{show:"COMPLETE"===e.order_info.order_status&&1===e.order_info.status,label:f("Ftp.Label.index_11"),onClick:async()=>{const t=window.location.origin+"/v2/business_ssl?action=download_cert&uc_id="+e.order_info.uc_id;window.open(t)}},{show:!1,label:f("Public.Btn.Del"),onClick:()=>{U({title:f("SSL.index_59"),content:f("SSL.index_60"),onConfirm:async()=>{await T({hash:e.hash}),ae()}})}}]})]),ee=e=>{F.data.row=e,F.show=!0},te=()=>{A()},ae=async()=>{try{Y.loading=!0;const{message:e}=await B(z);x(e)&&(Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}};return S.value.status&&ae(),(e,a)=>{const n=W,s=v,h=L,w=O,y=J,g=V,x=C,k=j,D=b,R=E;return r(),l(R,{install:_(S).status},{desc:d(()=>[a[7]||(a[7]=c("span",{class:"mr-10px"},"Business certificates require login panel to start using them",-1)),o(n,{type:"primary",onClick:te},{default:d(()=>[i(u(e.$t("Login.index_3")),1)]),_:1})]),default:d(()=>[o(k,{feedback:!0},{toolsLeft:d(()=>[o(n,{type:"primary",onClick:a[0]||(a[0]=e=>_(H).show=!0)},{default:d(()=>[i(u(_(f)("SSL.index_44")),1)]),_:1}),o(y,{trigger:"hover"},{trigger:d(()=>[o(s,{name:"base-info",size:18,color:"#999"})]),default:d(()=>[o(w,null,{default:d(()=>[a[9]||(a[9]=c("li",null," If your site uses CDN, high-defence IP, reverse proxy, 301 redirect, etc., it may lead to validation failure ",-1)),a[10]||(a[10]=c("li",null," Certificates can be purchased for many years, and can only be issued once a year (valid for one year), and need to be renewed within 30 days before expiration (domain verification is not required for renewal) ",-1)),a[11]||(a[11]=c("li",null,"Apply for www.aapanel.com certificate with www as the secondary domain name, binding and resolving the top-level domain (aapanel.com) is required, otherwise the verification will fail",-1)),c("li",null,[a[8]||(a[8]=i("Compared with ordinary certificates, commercial certificates have higher security, compensation protection and support for wildcard and multi-domain names ",-1)),o(h,{target:"_blank",href:"https://www.aapanel.com/docs/Function/BusinessCertificate.html"},{default:d(()=>[i(u(e.$t("SSL.Business.index_20")),1)]),_:1})])]),_:1,__:[9,10,11]})]),_:1})]),table:d(()=>[o(g,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(x,{page:_(z).p,"onUpdate:page":a[1]||(a[1]=e=>_(z).p=e),"page-size":_(z).limit,"onUpdate:pageSize":a[2]||(a[2]=e=>_(z).limit=e),"store-key":"ssl-business-page","item-count":_(Y).total,onRefresh:ae},null,8,["page","page-size","item-count"])]),_:1}),o(D,{show:_(H).show,"onUpdate:show":a[3]||(a[3]=e=>_(H).show=e),title:_(H).title,data:_(H).data,"min-height":250,component:X},null,8,["show","title","data"]),o(D,{show:_(F).show,"onUpdate:show":a[4]||(a[4]=e=>_(F).show=e),title:_(F).title,data:_(F).data,width:650,"min-height":450,component:_(t)},null,8,["show","title","data","component"]),o(D,{show:_(K).show,"onUpdate:show":a[5]||(a[5]=e=>_(K).show=e),title:_(K).title,data:_(K).data,width:720,height:530,component:_(p)},null,8,["show","title","data","component"]),o(D,{show:_(Q).show,"onUpdate:show":a[6]||(a[6]=e=>_(Q).show=e),title:_(Q).title,data:_(Q).data,width:650,"min-height":450,component:_(m)},null,8,["show","title","data","component"])]),_:1},8,["install"])}}});const ee=t({__name:"index",setup(e){const t=h(()=>k(()=>import("./index215.js?v=1760428868419"),__vite__mapDeps([19,5,6,2,3,7,4,8,9,11,20,21,1,10,22]))),a=h(()=>k(()=>import("./index216.js?v=1760428868419"),__vite__mapDeps([23,11,2,3,7,4,24,6,5,9,8,25,26]))),l=h(()=>k(()=>import("./index217.js?v=1760428868419"),__vite__mapDeps([27,24,2,3,7,4,6,5,9,8,25,21,1,10,22]))),c=h(()=>k(()=>import("./index214.js?v=1760428868419"),__vite__mapDeps([14,15,2,3,7,4,6,5,9,8,16,17]))),f=h(()=>k(()=>import("./ssl-log.js?v=1760428868419"),__vite__mapDeps([28,29,6,2,3,7,4,5,9,8,30]))),y=h(()=>k(()=>import("./index116.js?v=1760428868419"),__vite__mapDeps([31,29,6,2,3,7,4,5,9,8,30,11,32,33]))),{t:g}=n(),v=D(""),E=D(g("SSL.index_48"),{onRefresh:()=>{ne()}}),P=D(g("SSL.index_44"),{onRefresh:()=>{ne()},onOpenLog:e=>{ee(e)}}),B=D(g("SSL.index_45"),{onRefresh:()=>{ne()}}),O=D(g("SSL.index_49"),{onRefresh:()=>{ne()}}),A=D(g("SSL.index_50")),X=s({p:1,limit:10,is_order:0,search:""}),J=()=>{X.p=1,ne()},K=()=>{U({title:g("SSL.index_51"),content:g("SSL.index_52"),onConfirm:async()=>{const{message:e}=await F();x(e)&&(v.title="Renew SSL Certificate Logs",v.data.id=e.id,v.show=!0)}})},{table:Y,columns:Z}=R([H(e=>{ee(e)}),{key:"ssl_type",title:g("SSL.index_53"),render:e=>o("span",{innerHTML:e.verify_domains.length>0?e.verify_domains.join("<br/>"):"--"},null)},q({title:g("SSL.index_54")}),{key:"proxy",title:g("SSL.index_55"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.auto_renew,"onUpdate:value":[t=>e.auto_renew=t,async()=>{try{await N({hash:e.hash})}catch(t){e.auto_renew=1===e.auto_renew?0:1}}]},null)},{key:"alarm",title:g("SSL.Domain.index_26"),render:e=>o($,{uncheckedValue:0,checkedValue:1,value:e.alarm,"onUpdate:value":[t=>e.alarm=t,async t=>{try{await M({hash:e.hash,alarm:t})}catch(a){e.alarm=1===t?0:1}}]},null)},G((e,t)=>{O.data.row=e,O.show=!0,O.data.menu=t}),{key:"last_apply_time",title:g("SSL.index_56")},{key:"last_apply_log",title:g("SSL.index_57"),align:"center",render:e=>{let t;return e.log?o(L,{onClick:()=>{ee(e.log)}},"function"==typeof(a=t=g("Ftp.Table.index_15"))||"[object Object]"===Object.prototype.toString.call(a)&&!S(a)?t:{default:()=>[t]}):"--";var a}},I({width:250,options:e=>[{label:g("SSL.index_58"),onClick:async()=>{O.data.row=e,O.show=!0}},{label:g("Mail.Mass.index_61"),onClick:()=>{E.data.row=e,E.show=!0}},{label:g("Public.Btn.Del"),onClick:()=>{U({title:g("SSL.index_59"),content:g("SSL.index_60"),onConfirm:async()=>{await T({hash:e.hash}),ne()}})}}]})]),ee=e=>{A.data.path=e,A.show=!0};let te=null;const ae=p(!1),ne=async()=>{try{ae.value||(Y.loading=!0);const{message:e}=await z(X);x(e)&&(ae.value=e.data.some(e=>e.task.some(e=>100!==e.task_status)),ae.value?se():te&&clearTimeout(te),Y.data=e.data,Y.total=e.total)}finally{Y.loading=!1}},se=async()=>{te=window.setTimeout(()=>{ne()},5e3)};return ne(),m(()=>{te&&clearTimeout(te)}),(e,n)=>{const s=W,h=Q,p=V,m=C,S=j,x=b;return r(),w("div",null,[o(S,{feedback:!0},{toolsLeft:d(()=>[o(s,{type:"primary",onClick:n[0]||(n[0]=e=>_(P).show=!0)},{default:d(()=>[i(u(_(g)("SSL.index_44")),1)]),_:1}),o(s,{onClick:n[1]||(n[1]=e=>_(B).show=!0)},{default:d(()=>[i(u(_(g)("SSL.index_45")),1)]),_:1}),o(s,{onClick:K},{default:d(()=>[i(u(_(g)("SSL.index_46")),1)]),_:1})]),toolsRight:d(()=>[o(h,{value:_(X).search,"onUpdate:value":n[2]||(n[2]=e=>_(X).search=e),onSearch:J},null,8,["value"])]),table:d(()=>[o(p,{loading:_(Y).loading,data:_(Y).data,columns:_(Z)},null,8,["loading","data","columns"])]),pageRight:d(()=>[o(m,{page:_(X).p,"onUpdate:page":n[3]||(n[3]=e=>_(X).p=e),"page-size":_(X).limit,"onUpdate:pageSize":n[4]||(n[4]=e=>_(X).limit=e),"store-key":"ssl-lets-page","item-count":_(Y).total,onRefresh:ne},null,8,["page","page-size","item-count"])]),_:1}),o(x,{show:_(P).show,"onUpdate:show":n[5]||(n[5]=e=>_(P).show=e),title:_(P).title,data:_(P).data,width:550,"min-height":250,footer:!0,component:_(t),"confirm-text":_(g)("SSL.index_47")},null,8,["show","title","data","component","confirm-text"]),o(x,{show:_(E).show,"onUpdate:show":n[6]||(n[6]=e=>_(E).show=e),title:_(E).title,data:_(E).data,width:650,"min-height":500,footer:!1,component:_(l)},null,8,["show","title","data","component"]),o(x,{show:_(B).show,"onUpdate:show":n[7]||(n[7]=e=>_(B).show=e),title:_(B).title,data:_(B).data,width:800,"min-height":500,footer:!0,component:_(a)},null,8,["show","title","data","component"]),o(x,{show:_(A).show,"onUpdate:show":n[8]||(n[8]=e=>_(A).show=e),title:_(A).title,data:_(A).data,width:650,"min-height":450,component:_(f)},null,8,["show","title","data","component"]),o(x,{show:_(O).show,"onUpdate:show":n[9]||(n[9]=e=>_(O).show=e),title:_(O).title,data:_(O).data,width:720,height:530,component:_(c)},null,8,["show","title","data","component"]),o(x,{show:_(v).show,"onUpdate:show":n[10]||(n[10]=e=>_(v).show=e),title:_(v).title,data:_(v).data,width:800,"min-height":550,footer:!1,component:_(y)},null,8,["show","title","data","component"])])}}}),te=t({__name:"index",setup(t){const{t:s}=n(),i=y(),{userInfo:u}=a(i),c=p("business"),h=[{key:"business",label:s("SSL.index_9"),component:Z},{key:"let-encrypt",label:"Let's Encrypt",component:ee}];return(t,a)=>{const n=e,s=K;return _(u).status?(r(),l(s,{key:0,class:"p-16px"},{default:d(()=>[o(n,{value:_(c),"onUpdate:value":a[0]||(a[0]=e=>f(c)?c.value=e:null),options:h},null,8,["value"])]),_:1})):(r(),l(Y,{key:1}))}}});export{te as default};
