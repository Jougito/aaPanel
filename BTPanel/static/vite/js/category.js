import{_ as e}from"./index.vue_vue_type_script_setup_true_lang.js?v=1760428868419";import{w as s,m as t}from"./page_layout.js?v=1760428868419";import{d as a}from"./public.js?v=1760428868419";import{f as i,aN as r}from"./site.js?v=1760428868419";import{u as p}from"./index84.js?v=1760428868419";import{k as o,P as _,r as u,R as l,V as n,W as m,a3 as d,S as v,U as j,ak as c}from"./vue.js?v=1760428868419";import{dR as f,dV as g}from"./naive.js?v=1760428868419";import"./common.js?v=1760428868419";import"./__commonjsHelpers__.js?v=1760428868419";import"./index133.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang5.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang6.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang7.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang12.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang8.js?v=1760428868419";import"./index131.js?v=1760428868419";import"./php.js?v=1760428868419";import"./soft.js?v=1760428868419";import"./soft2.js?v=1760428868419";import"./useOperate.js?v=1760428868419";import"./useModal2.js?v=1760428868419";import"./index.vue_vue_type_script_setup_true_lang15.js?v=1760428868419";import"./index.js?v=1760428868419";const x={class:"p-20px"},y={class:"w-150px"},w=o({__name:"category",props:{data:{}},setup(o,{expose:w}){const P=o,{t:h}=_(),{rows:b}=P.data,H=p(),S=u(null),k=u([]),{loading:R,setLoading:U}=a();(async()=>{try{U(!0);const{message:e}=await i();s(e)&&e.length>0?(k.value=e.map(e=>({label:e.name,value:e.id})),S.value=e[0].id):(S.value=null,k.value=[])}finally{U(!1)}})();return w({onConfirm:async({hide:e})=>{await r((()=>{if(null===S.value)throw t.error(h("Site.PHP.add_site_46")),new Error(h("Site.PHP.add_site_46"));return{id:S.value,site_ids:b.map(e=>e.id)}})()),H.setRefresh(!0),e()}}),(s,t)=>{const a=g,i=f,r=e;return n(),l("div",x,[m(r,null,{default:d(()=>[m(i,{label:s.$t("Site.PHP.add_site_22"),"show-feedback":!1},{default:d(()=>[v("div",y,[m(a,{value:j(S),"onUpdate:value":t[0]||(t[0]=e=>c(S)?S.value=e:null),loading:j(R),options:j(k)},null,8,["value","loading","options"])])]),_:1},8,["label"])]),_:1})])}}});export{w as default};
