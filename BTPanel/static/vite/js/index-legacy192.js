System.register(["./page_layout-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419","./leader-line-vue-legacy.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./common-legacy.js?v=1760428868419","./__commonjsHelpers__-legacy.js?v=1760428868419"],function(e,t){"use strict";var o,a,l,i,n,s,r,d,c,p,m,v,u,y,f,g,h,x,b,A,S,w,k,I,C,E,H,U,B,L,V,_,N,P,R,M,D,Q,q,T,W,j;return{setters:[e=>{o=e._,a=e.p,l=e.u,i=e.g5,n=e.m,s=e.ea,r=e.W,d=e.g6,c=e.w},e=>{p=e.ak},e=>{m=e.L},e=>{v=e.k,u=e.R,y=e.V,f=e.H,g=e.F,h=e.O,x=e.a2,b=e.W,A=e.an,S=e.S,w=e.U,k=e.P,I=e.t,C=e.r,E=e.c,H=e.o,U=e.n,B=e.b,L=e.a4,V=e.a3,_=e.j,N=e.ak,P=e.x,R=e.am,M=e.a5},e=>{D=e.dV,Q=e._,q=e.dU,T=e.d8,W=e.dT,j=e.aC},null,null],execute:function(){var t=document.createElement("style");t.textContent=".soft-list li{display:flex;align-items:center}.soft-list li+li[data-v-30465cc8]{margin-top:12px}.recommend-item[data-v-abb8deb0]{flex:1 1 0%}.recommend-item+.recommend-item[data-v-abb8deb0]{margin-left:24px}.recommend-item .recommend-title[data-v-abb8deb0]{margin-bottom:10px;padding-left:5px;font-size:20px}.recommend-item .content[data-v-abb8deb0]{border-radius:4px;padding:20px 16px;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s;transition-duration:.2s;border:1px solid var(--color-border)}.recommend-item .content .border-view[data-v-abb8deb0]{border-width:1px;border-color:var(--color-border);border-radius:4px;border-style:solid;padding:12px}.recommend-item .active[data-v-abb8deb0]{background-color:var(--home-soft-install-bg-color);border:1px solid var(--home-soft-install-border-color)}.recommend-list[data-v-96b70652]{display:flex}\n/*$vite$:1*/",document.head.appendChild(t);const z=(e=[{startId:"server",endId:"database",color:"var(--color-border)",size:2,path:"grid",startSocket:"right",endSocket:"right"},{startId:"nginx",endId:"php",color:"var(--color-border)",size:2,path:"grid",startSocket:"right",endSocket:"left"},{startId:"nginx",endId:"server",color:"var(--color-border)",size:2,path:"grid",startSocket:"right",endSocket:"left"},{startId:"nginx",endId:"database",color:"var(--color-border)",size:2,path:"grid",startSocket:"right",endSocket:"left"}])=>{const t=[];return e.forEach(e=>{const o=(e=>{const t=document.getElementById(e.startId),o=document.getElementById(e.endId);if(!t||!o)throw new Error("Invalid start or end element ID");return m.setLine(t,o,{color:e.color||"var(--color-border)",size:e.size||2,path:e.path||"grid",startSocket:e.startSocket||"right",endSocket:e.endSocket||"left"})})(e);o&&t.push(o)}),t},F={key:0,class:"flex-center w-32px"},Y=["src"],J=v({__name:"SoftwareGroup",props:{items:{},form:{},showCheckbox:{type:Boolean},showRadio:{type:Boolean},containerClass:{}},emits:["updateSelect","updateRadio"],setup:e=>(e,t)=>{const a=o,l=D,i=Q,n=q;return y(),u("ul",{class:f(["soft-list",e.containerClass])},[(y(!0),u(g,null,h(e.items,t=>(y(),u("li",{key:t.type},["mail"===t.icon||"dns"===t.icon?(y(),u("div",F,[S("img",{class:"w-20px",src:"mail"===t.icon?w("/static/vite/images/mail-server.png"):w("data:image/png;base64,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"),alt:""},null,8,Y)])):(y(),x(a,{key:1,name:`soft-${t.icon}`,size:"32"},null,8,["name"])),b(l,{value:e.form[t.type].value,"onUpdate:value":[o=>e.form[t.type].value=o,o=>e.$emit("updateSelect",t.type,o)],class:"flex-1 mx-5px",options:t.options,"consistent-menu-width":!1},null,8,["value","onUpdate:value","options"]),e.showCheckbox?(y(),x(i,{key:2,class:"mr-10px",checked:e.form[t.type].checked,"onUpdate:checked":o=>e.form[t.type].checked=o},null,8,["checked","onUpdate:checked"])):A("",!0),e.showRadio?(y(),x(n,{key:3,class:"mr-10px",checked:e.form[t.type].checked,"onUpdate:checked":[o=>e.form[t.type].checked=o,o=>e.$emit("updateRadio",o,t.type)]},null,8,["checked","onUpdate:checked"])):A("",!0)]))),128))],2)}}),O=a(J,[["__scopeId","data-v-30465cc8"]]),Z={class:"recommend-item"},K={class:"recommend-title"},X={key:0,class:"flex items-center border-view p-16px w-540px"},G={class:"border-view mr-80px",id:"nginx"},$={class:"border-view",id:"server"},ee={class:"border-view my-10px",id:"database"},te={class:"border-view",id:"php"},oe={class:"border-view mt-10px"},ae={class:"border-view"},le={class:"border-view mt-40px"},ie={class:"flex items-center my-20px"},ne={class:"mr-10px"},se={class:"w-280px"},re={class:"w-280px"},de={class:"flex justify-center"},ce=a(v({__name:"item",props:{data:{},memTotal:{default:0},activeMode:{default:"multi"}},emits:["close","update-active"],setup(e,{emit:t}){const o=e,a=t,{t:d}=k(),c=l(),p=I(()=>o.data),m=I(()=>o.memTotal),v=C([]),h=C((()=>{const{soft:e}=p.value,t={};return e.forEach(e=>{t[e.type]={value:e.value,checked:"single"!==e.select||"Nginx"===e.type},"DNS-Server"!==e.type&&"Mail-Server"!==e.type||(t[e.type].checked=!1)}),t})()),x=C(1),A=E(()=>p.value.soft?.filter(e=>"Nginx"===e.type)||[]),P=E(()=>p.value.soft?.filter(e=>"Apache"===e.type||"Openlitespeed"===e.type)||[]),R=E(()=>p.value.soft?.filter(e=>"MySQL"===e.type||"PHP"===e.type)||[]),M=E(()=>p.value.soft?.filter(e=>"phpMyAdmin"===e.type)||[]),D=E(()=>p.value.soft?.filter(e=>"DNS-Server"===e.type||"Mail-Server"===e.type||"Pure-Ftpd"===e.type)||[]),Q=E(()=>p.value.soft?.filter(e=>"single"===e.select)||[]),F=E(()=>p.value.soft?.filter(e=>"single"!==e.select)||[]),Y=new Map([["5.1",{max:256,rec:512}],["5.5",{max:600,rec:1024}],["5.6",{max:800,rec:1024}],["5.7",{max:1500,rec:2048}],["8.0",{max:5e3,rec:6144}],["AliSQL",{max:800,rec:1024}],["mariadb_10.0",{max:800,rec:1024}],["mariadb_10.1",{max:1500,rec:2048}]]),J=new Map([["5.2","4.0"],["5.3","4.0"],["5.4","4.4"],["5.5","4.4"]]),ce=(e,t)=>{e=e.toLowerCase();const o=me[e];o?.(t)},pe=(e,t)=>{e&&Object.keys(h.value).forEach(e=>{const o=p.value.soft.find(t=>t.type===e);o&&"single"===o.select&&e!==t&&(h.value[e].checked=!1)})},me={mysql:e=>{const t=Y.get(e),o=t?.max||0,a=t?.rec||0;if(m.value<o){const t=d("Home.Install.index_10",[a/1024,e]);n.error(t)}},apache:e=>{"2.2"==e?n.info(d("Home.Install.index_11",["2.2","php5_module"])):n.info(d("Home.Install.index_11",["2.4","php-fpm"]))},php:e=>{if("lnmp"===p.value.type){const t=J.get(e)||"4.9";h.value.phpMyAdmin.value=t}if("lamp"===p.value.type){const t=e;"2.2"==h.value.Apache.value?"5.2"!=t&&"5.3"!=t&&"5.4"!=t&&(n.error(d("Home.Install.index_12",["2.2",t])),h.value.PHP.value="5.4"):"5.2"==t&&(n.error(d("Home.Install.index_12",["2.4",t])),h.value.PHP.value="5.4")}}},ve=async e=>{"multi"!==e&&i();const t="multi"===e||null,o=n.loading(d("Home.Install.index_13"));try{const e=(()=>{const e=[];return Object.entries(h.value).forEach(([t,o])=>{if(o.checked){let a=t.toLowerCase();"pure-ftpd"===a&&(a="pureftpd"),"php"===a&&(a="php-"+o.value),"dns-server"===a&&(a="dns_manager"),"mail-server"===a&&(a="mail_sys"),e.push({sName:a,version:`${o.value}`,type:x.value,id:"lnmp"===p.value.type?50:41})}}),e})();for(let o=0;o<e.length;o++)await s({...e[o],Skip:t});n.success(d("Home.Install.index_14")),c.getConfigSimple(),a("close"),r()}finally{o.close()}};return H(async()=>{await U(),setTimeout(()=>{v.value=z()},500)}),B(()=>{(e=>{e.forEach(e=>{e&&"function"==typeof e.remove&&e.remove()})})(v.value)}),(e,t)=>{const l=q,i=T,n=W,s=j;return y(),u("div",Z,[S("div",K,L(w(p).title),1),S("div",{class:f(["content",{active:e.activeMode===w(p).mode}]),onClick:t[2]||(t[2]=e=>{return t=w(p).mode,void(o.activeMode!==t&&a("update-active",t));var t})},["multi"===w(p).mode?(y(),u("div",X,[S("div",G,[b(O,{items:w(A),form:w(h),onUpdateSelect:ce},null,8,["items","form"])]),S("div",null,[S("div",$,[b(O,{items:w(P),form:w(h),onUpdateSelect:ce},null,8,["items","form"])]),S("div",ee,[b(O,{items:w(R),form:w(h),onUpdateSelect:ce},null,8,["items","form"])]),S("div",te,[b(O,{items:w(M),form:w(h),onUpdateSelect:ce},null,8,["items","form"])]),S("div",oe,[b(O,{items:w(D),form:w(h),"show-checkbox":!0,onUpdateSelect:ce},null,8,["items","form"])])])])):(y(),u(g,{key:1},[S("div",ae,[b(O,{items:w(Q),form:w(h),"show-radio":!0,onUpdateSelect:ce,onUpdateRadio:pe},null,8,["items","form"])]),S("div",le,[b(O,{items:w(F),form:w(h),"show-checkbox":!0,onUpdateSelect:ce},null,8,["items","form"])])],64)),S("div",ie,[S("span",ne,L(e.$t("Home.Install.index_4")),1),b(n,{value:w(x),"onUpdate:value":t[0]||(t[0]=e=>N(x)?x.value=e:null)},{default:V(()=>[b(i,{trigger:"hover"},{trigger:V(()=>[b(l,{value:1},{default:V(()=>[_(L(e.$t("Home.Install.index_5")),1)]),_:1})]),default:V(()=>[S("div",se,L(e.$t("Home.Install.index_6")),1)]),_:1}),b(i,{trigger:"hover"},{trigger:V(()=>[b(l,{value:0},{default:V(()=>[_(L(e.$t("Home.Install.index_7")),1)]),_:1})]),default:V(()=>[S("div",re,L(e.$t("Home.Install.index_8")),1)]),_:1})]),_:1},8,["value"])]),S("div",de,[b(s,{type:"primary",onClick:t[1]||(t[1]=e=>ve(w(p).mode))},{default:V(()=>[_(L(e.$t("Home.Install.index_9")),1)]),_:1})])],2)])}}}),[["__scopeId","data-v-abb8deb0"]]),pe={class:"p-20px"},me={class:"recommend-list"},ve=v({__name:"index",props:{memTotal:{}},emits:["close"],setup(e,{expose:t,emit:o}){const a=e,l=o,{memTotal:i}=a,n=P([]),s=C("multi"),r=e=>{s.value=e},m=[{type:"lnmp",mode:"multi",title:"Multi-WebServer Hosting",soft:[{type:"Nginx",icon:"nginx",value:void 0,options:[]},{type:"Apache",icon:"apache",value:void 0,options:[]},{type:"PHP",icon:"php",value:void 0,options:[]},{type:"Openlitespeed",icon:"openlitespeed",value:void 0,options:[]},{type:"MySQL",icon:"mysql",value:void 0,options:[]},{type:"Pure-Ftpd",icon:"pure-ftpd",value:void 0,options:[]},{type:"phpMyAdmin",icon:"phpmyadmin",value:void 0,options:[]},{type:"DNS-Server",icon:"dns",value:void 0,options:[]},{type:"Mail-Server",icon:"mail",value:void 0,options:[]}]},{type:"lamp",mode:"single",title:"Single WebServer model",soft:[{type:"Nginx",icon:"nginx",value:void 0,options:[],select:"single"},{type:"Apache",icon:"apache",value:void 0,options:[],select:"single"},{type:"Openlitespeed",icon:"openlitespeed",value:void 0,options:[],select:"single"},{type:"MySQL",icon:"mysql",value:void 0,options:[]},{type:"Pure-Ftpd",icon:"pure-ftpd",value:void 0,options:[]},{type:"PHP",icon:"php",value:void 0,options:[]},{type:"phpMyAdmin",icon:"phpmyadmin",value:void 0,options:[]},{type:"DNS-Server",icon:"dns",value:void 0,options:[]},{type:"Mail-Server",icon:"mail",value:void 0,options:[]}]}];R();const v=()=>{l("close")};return(async()=>{const{message:e}=await d();c(e)&&e.forEach(e=>{const{name:t}=e;if("Tomcat"===t)return;let o;const a=[];e.versions.forEach(({version:e},l)=>{(!o&&"PHP"===t&&0===l||"MySQL"===t&&0===l||"phpMyAdmin"===t&&0===l)&&(o=e),a.push({label:`${t} ${e}`,value:e})}),!o&&a.length>0&&(o=a[0].value),m.forEach(e=>{for(let l=0;l<e.soft.length;l++)if(e.soft[l].type===t){e.soft[l].value=o,e.soft[l].options=a;break}}),n.value=m})})(),t({onClose:()=>{p()}}),(e,t)=>(M("i18n-t"),y(),u("div",pe,[A("",!0),S("div",me,[(y(!0),u(g,null,h(w(n),e=>(y(),x(ce,{key:e.type,data:e,"mem-total":w(i),"active-mode":w(s),onUpdateActive:r,onClose:v},null,8,["data","mem-total","active-mode"]))),128))])]))}});e("default",a(ve,[["__scopeId","data-v-96b70652"]]))}}});
