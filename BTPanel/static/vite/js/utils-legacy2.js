System.register(["./page_layout-legacy.js?v=1760428868419","./compiler-legacy.js?v=1760428868419","./planned-legacy.js?v=1760428868419","./vue-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419"],function(e,a){"use strict";var n,t,l,i,r,o,d,s,u,b,c,p,v,_,m,g,x,y;return{setters:[e=>{n=e.i,t=e.w,l=e.d,i=e.m,r=e.a},e=>{o=e.g},e=>{d=e.h,s=e.i,u=e.j,b=e.k,c=e.l},e=>{p=e.r,v=e.e,_=e.W,m=e.j,g=e.c,x=e._},e=>{y=e.u}],execute:function(){e({b:function(e){return g(()=>{let a="";const n=`${E(e.hour)}:${E(e.minute)}`;switch(e.time){case"day":a=`${A("Docker.Container.log.index_15")} ${n} ${A("Crontab.Planned.index_30")}`;break;case"day-n":a=`${A("Crontab.Planned.index_31")} ${e.day} ${A("Crontab.arrange.index_33")} ${n} ${A("Crontab.Planned.index_30")}`;break;case"hour":a=A("Crontab.Planned.index_32",[e.minute]);break;case"week":a=A("Crontab.Planned.index_36",[J(e.week),n]);break;case"month":a=A("Crontab.Planned.index_37",[e.day,n]);break;case"minute-n":a=A("Crontab.Planned.index_39",[e.minute]);break;case"hour-n":a=`${A("Crontab.Planned.index_41")} ${e.hour} ${A("Crontab.Planned.index_42")} ${e.minute} ${A("Crontab.Planned.index_33")}`;break;case"second-n":a=A("Crontab.Planned.index_95",[e.second])}return a})},j:function(e){const a=h.find(a=>a.value===e);return a?.tips},n:async function(e){k.value="toShell"===e||"toUrl"===e?S.value:f.value;const a=[];switch(e){case"toShell":L(e)&&a.push(R());break;case"site":case"path":case"webshell":L(e)&&(a.push(D()),a.push(Q()));break;case"database":L(e)&&(a.push(M("mysql")),a.push(D()),a.push(Q()));break;case"enterpriseBackup":L(e)&&a.push(M());break;case"logs":L(e)&&a.push(D());break;case"sync_time":L(e)&&a.push(U())}await Promise.all(a)},u:function(e){const a=h.find(a=>a.value===e);return!!a&&a.forbidden},y:J});const{t:C}=n.global,h=e("t",[{value:"toShell",label:C("Crontab.Script.index_26"),tips:C("Crontab.Script.index_27")},{value:"site",label:C("Crontab.Script.index_28"),forbidden:!0},{value:"database",label:C("Crontab.Script.index_29"),tips:C("Crontab.Script.index_30"),forbidden:!0},{value:"logs",label:C("Crontab.Script.index_33"),tips:C("Crontab.Script.index_34"),forbidden:!0},{value:"path",label:C("Crontab.Script.index_35"),forbidden:!0},{value:"sync_time",label:C("Crontab.Script.index_37"),tips:C("Crontab.Script.index_38")},{value:"rememory",label:C("Crontab.Script.index_39"),tips:C("Crontab.Script.index_40")},{value:"toUrl",label:C("Crontab.Script.index_41")}]),S=p([{value:"day",label:C("Crontab.arrange.index_40")},{value:"day-n",label:`N ${C("Crontab.arrange.index_41")}`},{value:"hour",label:C("Crontab.arrange.index_42")},{value:"hour-n",label:`N ${C("Crontab.arrange.index_43")}`},{value:"minute-n",label:`N ${C("Crontab.arrange.index_44")}`},{value:"week",label:C("Crontab.arrange.index_25")},{value:"month",label:C("Crontab.arrange.index_26")},{value:"second-n",label:`N ${C("Crontab.Script.index_14")}`}]),f=p([{value:"day",label:C("Crontab.arrange.index_40")},{value:"day-n",label:`N ${C("Crontab.arrange.index_41")}`},{value:"hour",label:C("Crontab.arrange.index_42")},{value:"hour-n",label:`N ${C("Crontab.arrange.index_43")}`},{value:"minute-n",label:`N ${C("Crontab.arrange.index_44")}`},{value:"week",label:C("Crontab.arrange.index_25")},{value:"month",label:C("Crontab.arrange.index_26")}]),k=e("a",p(S.value)),w=e("w",[{value:"1",label:C("Crontab.Script.index_15")},{value:"2",label:C("Crontab.Script.index_16")},{value:"3",label:C("Crontab.Script.index_17")},{value:"4",label:C("Crontab.Script.index_18")},{value:"5",label:C("Crontab.Script.index_19")},{value:"6",label:C("Crontab.Script.index_20")},{value:"7",label:C("Crontab.Script.index_21")}]);e("d",[{value:"0",label:C("Crontab.Script.index_22")},{value:"1",label:C("Crontab.Script.index_23")}]),C("Crontab.Script.index_57"),C("Crontab.Script.index_58"),C("Crontab.Script.index_59");const $=[{value:"localhost",label:C("Crontab.Script.index_24")}],P=(e("f",p([{value:"mysql",label:"MySQL"},{value:"mongodb",label:"MongoDB"},{value:"redis",label:"Redis"},{value:"pgsql",label:"PgSQL"}])),e("c",p([]))),j=e("s",p([])),N=e("m",p([])),z=e("g",p([])),B=e("h",p([])),T=e("i",p([])),O=[{value:"ALL",label:C("Crontab.Script.index_25")}],q=v({});function L(e){return!q[e]&&(q[e]=!0,!0)}const R=async()=>{const{message:e}=await o();l(e)&&(P.value=e.data.map(e=>({label:e,value:e})))},D=async()=>{const{message:e}=await u();l(e)&&(j.value=e.data.map(e=>({label:e.name,value:e.name})),B.value=e.orderOpt.map(e=>({label:e.name,value:e.value})),B.value.unshift(...$),j.value.unshift(...O))},M=e("l",async(e="")=>{const{message:a}=await d({db_type:e});t(a)&&(z.value=a.length?a.map(e=>({label:e.name,value:e.name})):[],z.value.unshift(...O))}),Q=async()=>{const{message:e}=await b();l(e)&&(N.value=Object.entries(e).map(([,e])=>({label:e.title,value:e.name,disabled:"{}"===JSON.stringify(e.data)})),N.value.unshift(...O))},U=async()=>{const{message:e}=await s();l(e)&&(T.value=Object.entries(e).map(([e,a])=>({value:e,label:e,children:a.map(e=>({value:e,label:e}))})))},{t:A}=(e("v",e=>{const a=B.value.find(a=>a.label===e);return a?a.value:$[0].value}),n.global),E=e("x",e=>e<10?"0"+e:e);function J(e){const a=w.find(a=>a.value===e);return a?a.label:void 0}e("p",`${A("Crontab.Planned.index_46")}: \ndata/config.php\nstatic/upload\n *.log\n`),e("r",e=>_("div",null,[_("span",null,[e.label]),"enterpriseBackup"===e.value?_("span",{class:"float-right cursor-pointer color-#ffb800"},[m("PRO")]):""])),e("e",e=>e.disabled?_("div",null,[_("span",null,[e.label]),_("span",{class:"float-right cursor-pointer color-#ef0808",onClick:()=>W(e.value)},[m("["),A("Crontab.Planned.index_47"),m("]")])]):_("span",null,[e.label]));const V={mail:{component:x(()=>r(()=>a.import("./index-legacy120.js?v=1760428868419"),void 0))},dingding:{component:x(()=>r(()=>a.import("./index-legacy121.js?v=1760428868419"),void 0)),api:c,url:"dingding"},weixin:{component:x(()=>r(()=>a.import("./index-legacy121.js?v=1760428868419"),void 0)),api:c,url:"weixin"},feishu:{component:x(()=>r(()=>a.import("./index-legacy121.js?v=1760428868419"),void 0)),api:c,url:"feishu"},tg:{component:x(()=>r(()=>a.import("./index-legacy122.js?v=1760428868419"),void 0))}},W=e=>{const a=V[e];a&&y({title:A("Crontab.Planned.index_48"),width:480,footer:!0,data:{callback:()=>{Q()},api:a.api,url:a.url},component:a.component})};e("o",e=>{new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-|\\u4e00-\\u9fa5]*)?(\\#[-a-z\\d_]*)?$","i").test(e)?y({title:A("Crontab.Planned.index_84"),width:600,footer:!1,data:{val:e},component:x(()=>r(()=>a.import("./index-legacy123.js?v=1760428868419"),void 0))}):i.error(A("Crontab.Planned.index_85"))}),e("q",e=>({name:e.name,type:e.time,where1:"minute-n"==e.time?e.minute.toString():"hour-n"==e.time?e.hour.toString():e.day.toString(),week:e.week,hour:e.hour.toString(),minute:e.minute.toString(),second:"second-n"==e.time?e.second.toString():"",user:e.user,save:"site"==e.type||"database"==e.type||"logs"==e.type||"path"==e.type?e.save:"",backupTo:"site"==e.type||"database"==e.type||"enterpriseBackup"==e.type||"path"==e.type?e.backupTo:"",sName:"sync_time"==e.type?`${e.region}/${e.sName}`:e.sName,sBody:e.sBody,sType:e.type,urladdress:e.url,save_local:e.backup&&"localhost"!==e.backupTo?"1":"0",notice:e.reminder,notice_channel:"0"==e.reminder?"":e.message,db_type:e.databaseType,split_type:e.splitType,split_value:e.splitValue.toString(),flock:"1",timeSet:"1",db_backup_path:e.dbBackupPath,timeType:"sday",special_time:"",log_cut_path:"/www/wwwlogs/history_backups",user_agent:e.agent,version:"",table_list:"",zip_password:e.zip,id:e.id?e.id:null,region:"sync_time"==e.type?e.region:null,zone:"sync_time"==e.type?e.sName:null})),e("k",e=>{for(const a of T.value)for(const n of a.children||[])if(n.value===e)return a.label;return""})}}});
