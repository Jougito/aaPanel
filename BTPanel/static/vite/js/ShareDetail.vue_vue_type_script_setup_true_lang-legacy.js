System.register(["./index-legacy.js?v=1760428868419","./index.vue_vue_type_script_setup_true_lang-legacy.js?v=1760428868419","./page_layout-legacy.js?v=1760428868419","./public-legacy.js?v=1760428868419","./index-legacy39.js?v=1760428868419","./naive-legacy.js?v=1760428868419","./vue-legacy.js?v=1760428868419"],function(e,a){"use strict";var l,o,i,n,t,s,r,d,u,c,p,f,h,m,v,_,y,g,w,x,k,M,b,C,S,j;return{setters:[e=>{l=e._},e=>{o=e._},e=>{i=e.i,n=e.a8,t=e._,s=e.t},e=>{r=e.i,d=e.a},e=>{u=e.g},e=>{c=e.dR,p=e.au,f=e.aC},e=>{h=e.k,m=e.i,v=e.r,_=e.c,y=e.a2,g=e.V,w=e.a3,x=e.S,k=e.W,M=e.an,b=e.U,C=e.j,S=e.a4,j=e.ak}],execute:function(){const a={class:"p-20px"};e("_",h({__name:"ShareDetail",setup(e,{expose:h}){const{t:$}=i.global,D=`${window.location.origin}/down/`,U=m("fileStore"),A=v(!1),q=v({filename:"",ps:"",token:"",expire:"",total:0,password:"",addtime:0,id:0});async function z(){return d({title:$("file.shareModal.cancelSharing"),content:$("file.shareModal.confirmStopSharing",{filename:q.value.filename}),async onConfirm(){await s.post("/files?action=remove_download_url",{id:q.value.id},{requestOptions:{loading:$("file.shareModal.deletingShare"),successMessage:!0}}),A.value=!1,u(U)}}),!1}h({open(e){q.value={filename:e.filename,ps:e.ps,token:e.token,expire:n(e.expire),total:e.total,password:e.password,addtime:e.addtime,id:e.id},A.value=!0},close(){A.value=!1}});const L=_(()=>`${D}${q.value.token}`);function N(){r(L.value)}function O(){r($("file.shareModal.linkAndCode",{link:L.value,code:q.value.password}))}return(e,i)=>{const n=p,s=c,r=t,d=f,u=o,h=l;return g(),y(h,{show:b(A),"onUpdate:show":i[1]||(i[1]=e=>j(A)?A.value=e:null),title:b($)("file.shareModal.shareDetails",{name:b(q).ps}),width:560,footer:!0,"confirm-type":"error","confirm-text":b($)("file.shareModal.closeSharingChain"),onConfirm:z},{default:w(()=>[x("div",a,[k(u,null,{default:w(()=>[k(s,{label:b($)("file.shareModal.shareName")},{default:w(()=>[k(n,{value:b(q).ps,"onUpdate:value":i[0]||(i[0]=e=>b(q).ps=e)},null,8,["value"])]),_:1},8,["label"]),k(s,{label:b($)("file.shareModal.shareChain")},{default:w(()=>[k(n,{class:"mr-10px",readonly:!0,value:b(L)},null,8,["value"]),k(d,{type:"primary",onClick:N},{icon:w(()=>[k(r,{name:"common-copy",size:"16"})]),_:1})]),_:1},8,["label"]),b(q).password?(g(),y(s,{key:0,label:b($)("file.shareModal.extractionCode")},{default:w(()=>[k(n,{class:"mr-10px",value:`${b(q).password}`,readonly:""},null,8,["value"]),k(d,{type:"primary",onClick:O},{default:w(()=>[C(S(b($)("file.shareModal.copyLinkAndCode")),1)]),_:1})]),_:1},8,["label"])):M("",!0),k(s,{label:b($)("file.shareModal.expirationDate"),"show-feedback":!1},{default:w(()=>[C(S(b(q).expire),1)]),_:1},8,["label"])]),_:1})])]),_:1},8,["show","title","confirm-text"])}}}))}}});
